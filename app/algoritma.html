<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multimedia Pembelajaran Interaktif - Algoritma & C++</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .font-mono, pre, code, .code-editor, .fill-in-input { font-family: 'JetBrains Mono', monospace; }
        
        /* Sidebar */
        .sidebar-link.active {
            background-color: #2563EB; /* blue-600 */
            color: white;
            font-weight: 600;
        }
        .sidebar-link.active i { color: white !important; }
        #sidebar {
            transition: transform 0.3s ease-in-out;
            z-index: 40;
        }
        /* Mobile sidebar */
        @media (max-width: 768px) {
            #sidebar {
                transform: translateX(-100%);
                position: fixed;
                height: 100%;
                top: 0;
                left: 0;
            }
            #sidebar.open {
                transform: translateX(0);
            }
            #sidebar-overlay {
                display: none;
                position: fixed;
                inset: 0;
                background-color: rgba(0,0,0,0.5);
                z-index: 30;
            }
            #sidebar-overlay.open {
                display: block;
            }
        }
        
        #sidebar::-webkit-scrollbar { display: none; }
        #sidebar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Area Kode */
        .code-editor {
            background-color: #1E293B; /* slate-800 */
            color: #E2E8F0; /* slate-200 */
            border: 1px solid #334155; /* slate-700 */
            border-radius: 8px;
            padding: 16px;
            font-size: 14px;
            line-height: 1.6;
            min-height: 250px;
            width: 100%;
            outline: none;
            transition: border-color 0.3s;
        }
        .code-editor:focus { border-color: #2563EB; }
        .code-editor-inline {
            background-color: #e2e8f0; /* slate-200 */
            color: #1e293b; /* slate-800 */
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        .code-output {
            background-color: #0F172A; /* slate-900 */
            color: #94A3B8; /* slate-400 */
            border-top: 1px solid #334155;
            padding: 12px 16px;
            font-size: 14px;
            line-height: 1.6;
            min-height: 100px;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
        }
        .code-output .prompt { color: #34D399; /* emerald-400 */ }
        .code-output .output { color: #E2E8F0; /* slate-200 */ }
        .code-output .system { color: #F87171; /* red-400 */ }

        /* Input Isian */
        .fill-in-input {
            border: 1px dashed #94A3B8; background-color: #F1F5F9;
            color: #0F172A; padding: 2px 6px; border-radius: 4px; margin: 0 4px;
            width: 250px;
            transition: all 0.3s;
        }
        .fill-in-input:focus { outline: none; border-style: solid; border-color: #2563EB; background-color: white; }
        .fill-in-input.correct { border-color: #16A34A; background-color: #DCFCE7; color: #15803D; }
        .fill-in-input.incorrect { border-color: #DC2626; background-color: #FEE2E2; color: #B91C1C; }
        
        /* Kuis Drag and Drop */
        .drag-container { min-height: 150px; }
        .drag-item {
            cursor: grab;
            user-select: none;
            transition: background-color 0.3s;
        }
        .drag-item:active { cursor: grabbing; background-color: #D1FAE5; }
        .drop-target {
            background-color: #F1F5F9;
            border: 2px dashed #CBD5E1;
            min-height: 200px;
        }
        .drop-target .drag-item { background-color: white; }
        .drop-target .drag-item.correct { border-left: 4px solid #16A34A; }
        .drop-target .drag-item.incorrect { border-left: 4px solid #DC2626; }
        
        /* Feedback Kuis */
        .quiz-feedback {
            display: none; padding: 12px; border-radius: 8px;
            margin-top: 16px; font-weight: 500;
        }
        .quiz-feedback.correct { display: block; background-color: #DCFCE7; color: #15803D; }
        .quiz-feedback.incorrect { display: block; background-color: #FEE2E2; color: #B91C1C; }
        
        /* Sub-menu Tabs */
        .submenu-tab {
            padding: 10px 20px; font-weight: 600; color: #475569; /* slate-600 */
            border-bottom: 3px solid transparent; transition: all 0.3s; cursor: pointer;
        }
        .submenu-tab:hover { color: #1E293B; }
        .submenu-tab.active { color: #2563EB; border-bottom-color: #2563EB; }
        
        .submenu-content { display: none; padding-top: 24px; }
        .submenu-content.active { display: block; }
        
        /* Visualisasi Array */
        .array-cell {
            width: 60px; height: 60px; border: 2px solid #334155;
            display: flex; justify-content: center; align-items: center;
            font-size: 1.2rem; font-weight: bold; color: #0F172A;
            background-color: #F1F5F9; border-radius: 4px;
            position: relative; transition: all 0.3s;
        }
        .array-cell .index-label {
            position: absolute; bottom: -20px; left: 0; right: 0;
            text-align: center; font-size: 0.8rem; color: #64748B;
            font-family: 'Inter', sans-serif;
        }
        /* Animasi visualisasi */
        .flash-set { animation: flash-set 0.6s ease-out; }
        @keyframes flash-set {
            0% { transform: scale(1); background-color: #F1F5F9; }
            50% { transform: scale(1.1); background-color: #A5B4FC; } /* indigo-300 */
            100% { transform: scale(1); background-color: #F1F5F9; }
        }
        .flash-get { animation: flash-get 0.6s ease-out; }
        @keyframes flash-get {
            0% { background-color: #F1F5F9; }
            50% { background-color: #93C5FD; } /* blue-300 */
            100% { background-color: #F1F5F9; }
        }

        /* --- CSS BARU UNTUK FLOWCHART RAPI --- */
        .viz-container {
            font-family: 'JetBrains Mono', monospace;
            background-color: #F8FAFC; /* slate-50 */
            border: 1px solid #E2E8F0; /* slate-200 */
            padding: 24px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            overflow-x: auto;
        }

        .viz-node {
            padding: 10px 16px;
            border: 2px solid #64748B; /* slate-500 */
            background-color: white;
            border-radius: 8px;
            text-align: center;
            min-width: 120px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        .viz-node.start-end { border-radius: 999px; }
        .viz-node.io { transform: skew(-15deg); }
        .viz-node.io span { display: inline-block; transform: skew(15deg); }
        .viz-node.decision {
            transform: rotate(45deg);
            width: 150px; height: 150px;
            display: flex; justify-content: center; align-items: center;
            padding: 0;
        }
        .viz-node.decision span { transform: rotate(-45deg); }
        
        .viz-node.active {
            background-color: #BFDBFE; /* blue-200 */
            border-color: #2563EB; /* blue-600 */
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
            transform: scale(1.05);
        }
        .viz-node.decision.active { transform: rotate(45deg) scale(1.05); }

        .viz-arrow {
            position: relative;
            height: 40px;
            width: 2px;
            background-color: #94A3B8; /* slate-400 */
            margin: 4px 0;
        }
        .viz-arrow::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0; height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #94A3B8;
        }

        .viz-branch {
            display: flex;
            justify-content: center;
            width: 100%;
            position: relative;
        }
        .viz-branch-col {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 50%;
            padding: 0 20px;
        }
        .viz-branch-col .viz-node { width: 100%; }
        
        .viz-line-h {
            height: 2px;
            background-color: #94A3B8;
            width: 100%;
            position: relative;
        }
        .viz-line-h-down::after { /* Panah ke bawah di ujung garis */
            content: ''; position: absolute; bottom: -8px; left: 50%;
            transform: translateX(-50%); width: 0; height: 0;
            border-left: 6px solid transparent; border-right: 6px solid transparent;
            border-top: 8px solid #94A3B8;
        }

        .viz-line-h-label {
            position: absolute;
            top: -24px;
            padding: 0 4px;
            background-color: #F8FAFC;
            color: #475569;
            font-size: 0.9em;
        }
        .viz-label-true { left: 25%; }
        .viz-label-false { right: 25%; }

        .viz-line-merge {
            width: 100%;
            display: flex;
            justify-content: center;
            padding-top: 20px;
        }
        .viz-line-merge-h {
            width: 50%;
            height: 40px;
            border-top: 2px solid #94A3B8;
            border-left: 2px solid #94A3B8;
            border-right: 2px solid #94A3B8;
        }
        .viz-line-merge-h.left { border-right: none; border-top-right-radius: 8px; }
        .viz-line-merge-h.right { border-left: none; border-top-left-radius: 8px; }

        /* Khusus Untuk For Loop */
        .viz-loop-body {
            border: 2px dashed #CBD5E1; /* slate-300 */
            padding: 16px;
            border-radius: 8px;
            width: 100%;
            max-width: 250px;
            margin-top: 20px;
        }
        .viz-loop-arrow-up {
            width: 150px;
            height: 40px;
            border-bottom: 2px solid #94A3B8;
            border-left: 2px solid #94A3B8;
            border-right: 2px solid #94A3B8;
            border-radius: 0 0 8px 8px;
            position: relative;
            margin-top: 20px;
        }
        .viz-loop-arrow-up::after {
            content: ''; position: absolute; top: -8px; left: 50%;
            transform: translateX(-50%); width: 0; height: 0;
            border-left: 6px solid transparent; border-right: 6px solid transparent;
            border-bottom: 8px solid #94A3B8;
        }
        /* --- AKHIR CSS FLOWCHART --- */

    </style>
</head>
<body class="bg-slate-100 text-slate-800">

    <!-- Tombol Menu Mobile -->
    <button onclick="toggleSidebar(true)" class="md:hidden fixed top-4 left-4 z-50 bg-white p-2 rounded-md shadow-lg">
        <i class="fas fa-bars text-blue-600"></i>
    </button>
    
    <!-- Overlay untuk mobile -->
    <div id="sidebar-overlay" onclick="toggleSidebar(false)"></div>

    <div class="flex h-screen">
        <!-- Sidebar Navigasi -->
        <nav id="sidebar" class="w-64 bg-white shadow-lg overflow-y-auto flex-shrink-0">
            <div class="p-5 border-b border-slate-200">
                <div class="flex justify-between items-center">
                    <div>
                        <h1 class="text-xl font-bold text-blue-600">Belajar Algoritma</h1>
                        <p class="text-sm text-slate-500">Dasar Pemrograman C++</p>
                    </div>
                    <button onclick="toggleSidebar(false)" class="md:hidden text-slate-500 hover:text-slate-800">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <!-- Sistem Poin -->
                <div class="mt-4 bg-blue-50 p-3 rounded-lg">
                    <p class="text-sm font-semibold text-blue-800">Total Poin Anda:</p>
                    <p id="total-points" class="text-2xl font-bold text-blue-600">0</p>
                </div>
            </div>
            <div class="p-3">
                <ul class="space-y-2">
                    <!-- Tautan navigasi akan dibuat oleh JavaScript -->
                </ul>
            </div>
        </nav>

        <!-- Konten Utama -->
        <main id="content-area" class="flex-1 p-6 md:p-10 overflow-y-auto">
            <!-- Konten (termasuk tab) akan dimuat di sini -->
        </main>
    </div>

    <!-- Modal (Kotak Pesan) -->
    <div id="message-modal" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-lg font-semibold"></h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <p id="modal-message" class="text-gray-700"></p>
            <div class="mt-6 text-right">
                <button onclick="closeModal()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">Tutup</button>
            </div>
        </div>
    </div>


    <script>
        // === DATABASE KONTEN ===
        let totalPoints = 0;
        let completedTopics = new Set();
        let userGeneratedArray = [];
        let draggedItem = null; // Untuk Kuis Drag-and-Drop
        
        const topics = [
            { id: 'topic-1', title: 'Konsep Algoritma', icon: 'fa-lightbulb' },
            { id: 'topic-2', title: 'Intro Bahasa C++', icon: 'fa-file-code' },
            { id: 'topic-3', title: 'Menampilkan Output', icon: 'fa-desktop' },
            { id: 'topic-4', title: 'Tipe Data & Variabel', icon: 'fa-sitemap' },
            { id: 'topic-5', title: 'Menerima Input', icon: 'fa-keyboard' },
            { id: 'topic-6', title: 'Operator Aritmatika', icon: 'fa-calculator' },
            { id: 'topic-7', title: 'Percabangan', icon: 'fa-code-branch' },
            { id: 'topic-8', title: 'Perulangan', icon: 'fa-sync-alt' },
            { id: 'topic-9', title: 'Array', icon: 'fa-th-large' },
        ];

        const topicData = {
            'topic-1': {
                title: '1. Konsep Algoritma',
                materi: `
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Apa Itu Algoritma?</h3>
                        <p class="mb-4">Secara sederhana, <strong>Algoritma</strong> adalah urutan langkah-langkah yang logis, sistematis, dan terbatas yang digunakan untuk menyelesaikan suatu masalah.</p>
                        <p class="mb-2">Bayangkan algoritma seperti sebuah resep masakan, misalnya resep "Membuat Nasi Goreng":</p>
                        <ol class="list-decimal list-inside space-y-2 bg-slate-50 p-4 rounded-md">
                            <li><strong>Mulai</strong></li>
                            <li>Siapkan bahan: nasi, bumbu, telur, minyak. (<strong>Input</strong>)</li>
                            <li>Panaskan wajan dan tuang minyak.</li>
                            <li>Masukkan telur, orak-arik.</li>
                            <li>Masukkan bumbu, tumis hingga harum.</li>
                            <li>Masukkan nasi, aduk hingga rata dengan bumbu. (<strong>Proses</strong>)</li>
                            <li>Cicipi rasa, tambahkan garam/kecap jika perlu.</li>
                            <li>Nasi goreng siap disajikan. (<strong>Output</strong>)</li>
                            <li><strong>Selesai</strong></li>
                        </ol>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Sifat-Sifat Algoritma</h3>
                        <ul class="list-disc list-inside space-y-3">
                            <li><strong>Input:</strong> Algoritma memiliki nol atau lebih data masukan (input).</li>
                            <li><strong>Output:</strong> Algoritma harus menghasilkan setidaknya satu luaran (output).</li>
                            <li><strong>Terbatas (Finite):</strong> Algoritma harus berhenti setelah sejumlah langkah terbatas.</li>
                            <li><strong>Pasti (Definite):</strong> Setiap langkah harus jelas dan tidak ambigu (tidak bermakna ganda).</li>
                            <li><strong>Efektif:</strong> Setiap langkah harus sederhana dan dapat dikerjakan dalam waktu wajar.</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Cara Menyajikan Algoritma</h3>
                        <h4 class="text-lg font-semibold mt-4">1. Pseudocode (Kode Semu)</h4>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>// Pseudocode Menghitung Luas Persegi Panjang
Mulai
  Baca nilai panjang
  Baca nilai lebar
  Luas = panjang * lebar
  Tampilkan Luas
Selesai</code></pre>
                        <h4 class="text-lg font-semibold mt-6">2. Flowchart (Diagram Alir)</h4>
                        <div class="flex justify-center p-4 bg-slate-50 rounded-md">
                            <img src="https://placehold.co/600x200/E2E8F0/475569?text=Contoh+Simbol+Flowchart\n(Oval,+Jajar+Genjang,+Persegi+Panjang,+Belah+Ketupat)" alt="Simbol-simbol dasar flowchart" class="rounded-md">
                        </div>
                    </div>
                `,
                kuis: `
                    <h3 class="text-2xl font-semibold mb-4">Latihan: Pilihan Ganda</h3>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div id="quiz-topic-1" class="space-y-6">
                            <div><p class="font-semibold mb-3">1. Urutan langkah-langkah logis yang sistematis untuk menyelesaikan suatu masalah disebut...</p><div class="space-y-2"><div><label><input type="radio" name="q1" value="A" class="mr-2"> A. Program</label></div><div><label><input type="radio" name="q1" value="B" class="mr-2"> B. Algoritma</label></div><div><label><input type="radio" name="q1" value="C" class="mr-2"> C. Tipe Data</label></div><div><label><input type="radio" name="q1" value="D" class="mr-2"> D. Variabel</label></div></div><div id="feedback-q1" class="quiz-feedback"></div></div>
                            <div><p class="font-semibold mb-3">2. Manakah dari berikut ini yang merupakan contoh algoritma dalam kehidupan sehari-hari?</p><div class="space-y-2"><div><label><input type="radio" name="q2" value="A" class="mr-2"> A. Resep masakan</label></div><div><label><input type="radio" name="q2" value="B" class="mr-2"> B. Daftar belanjaan</label></div><div><label><input type="radio" name="q2" value="C" class="mr-2"> C. Komputer</label></div><div><label><input type="radio" name="q2" value="D" class="mr-2"> D. Mobil</label></div></div><div id="feedback-q2" class="quiz-feedback"></div></div>
                            <div><p class="font-semibold mb-3">3. Sifat algoritma yang menyatakan bahwa setiap langkah harus jelas dan tidak bermakna ganda disebut...</p><div class="space-y-2"><div><label><input type="radio" name="q3" value="A" class="mr-2"> A. Terbatas (Finite)</label></div><div><label><input type="radio" name="q3" value="B" class="mr-2"> B. Efektif</label></div><div><label><input type="radio" name="q3" value="C" class="mr-2"> C. Pasti (Definite)</label></div><div><label><input type="radio" name="q3" value="D" class="mr-2"> D. Input</label></div></div><div id="feedback-q3" class="quiz-feedback"></div></div>
                            <div><p class="font-semibold mb-3">4. Perintah "Aduk adonan hingga kalis" dalam sebuah resep bisa dianggap melanggar sifat algoritma (untuk komputer) karena...</p><div class="space-y-2"><div><label><input type="radio" name="q4" value="A" class="mr-2"> A. Tidak memiliki output</label></div><div><label><input type="radio" name="q4" value="B" class="mr-2"> B. Tidak terbatas (tidak bisa berhenti)</label></div><div><label><input type="radio" name="q4" value="C" class="mr-2"> C. Tidak memiliki input</label></div><div><label><input type="radio" name="q4" value="D" class="mr-2"> D. Tidak pasti/ambigu (ukuran 'kalis' tidak jelas)</label></div></div><div id="feedback-q4" class="quiz-feedback"></div></div>
                            <div><p class="font-semibold mb-3">5. Representasi visual dari alur algoritma yang menggunakan simbol-simbol grafis disebut...</p><div class="space-y-2"><div><label><input type="radio" name="q5" value="A" class="mr-2"> A. Pseudocode</label></div><div><label><input type="radio" name="q5" value="B" class="mr-2"> B. Kode Program</label></div><div><label><input type="radio" name="q5" value="C" class="mr-2"> C. Flowchart</label></div><div><label><input type="radio" name="q5" value="D" class="mr-2"> D. Tipe Data</label></div></div><div id="feedback-q5" class="quiz-feedback"></div></div>

                            <button onclick="checkQuiz('topic-1', 5)" class="mt-6 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Semua Jawaban</button>
                        </div>
                    </div>
                `,
                quizData: { q1: 'B', q2: 'A', q3: 'C', q4: 'D', q5: 'C' }
            },
            'topic-2': {
                title: '2. Intro Bahasa C++',
                materi: `
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Apa Itu C++?</h3>
                        <p class="mb-4">C++ (dibaca "Si plus plus") adalah bahasa pemrograman yang sangat kuat, populer, dan serbaguna. C++ merupakan pengembangan dari bahasa C.</p>
                        <ul class="list-disc list-inside space-y-2 bg-slate-50 p-4 rounded-md">
                            <li><strong>Compiled (Terkumpul):</strong> Kode C++ harus diubah menjadi file yang bisa dieksekusi oleh komputer (proses ini disebut "kompilasi") sebelum bisa dijalankan. Ini membuatnya sangat cepat.</li>
                            <li><strong>Berorientasi Objek (OOP):</strong> C++ mendukung Object-Oriented Programming, sebuah cara untuk menstrukturkan kode yang akan kita pelajari nanti.</li>
                            <li><strong>Sangat Populer:</strong> Digunakan secara luas di industri untuk membuat game, sistem operasi (seperti Windows), browser (seperti Chrome), dan aplikasi yang butuh performa tinggi.</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Struktur Dasar Program C++</h3>
                        <p class="mb-4">Setiap program C++ memiliki struktur dasar yang mirip. Mari kita bedah program "Hello, World!" paling sederhana:</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>// 1. Header
#include &lt;iostream&gt;

// 2. Namespace
using namespace std;

// 3. Fungsi Utama
int main() {
    
    // 4. Perintah Output
    cout << "Hello, World!";
    
    // 5. Pernyataan Kembali
    return 0;
}</code></pre>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Penjelasan Setiap Baris</h3>
                        <ol class="list-decimal list-inside space-y-4">
                            <li><code class="code-editor-inline">#include &lt;iostream&gt;</code>: Memberitahu compiler untuk menyertakan library input-output (agar bisa pakai <code class="code-editor-inline">cout</code> dan <code class="code-editor-inline">cin</code>).</li>
                            <li><code class="code-editor-inline">using namespace std;</code>: Memberitahu program bahwa kita akan menggunakan "namespace" <code class="code-editor-inline">std</code> (standard).</li>
                            <li><code class="code-editor-inline">int main() { ... }</code>: Ini adalah <strong>fungsi utama</strong>. Eksekusi program dimulai dari sini.</li>
                            <li><code class="code-editor-inline">cout << "Hello, World!";</code>: Perintah untuk menampilkan teks "Hello, World!" ke layar. Tanda <code class="code-editor-inline">;</code> (titik koma) wajib ada di akhir setiap pernyataan.</li>
                            <li><code class="code-editor-inline">return 0;</code>: Mengakhiri fungsi <code class="code-editor-inline">main()</code> dan menandakan program selesai tanpa error.</li>
                        </ol>
                    </div>
                `,
                kuis: `
                    <h3 class="text-2xl font-semibold mb-4">Latihan: Seret dan Lepas (Drag & Drop)</h3>
                    <p class="mb-4">Susunlah potongan kode di bawah ini menjadi program "Hello, World!" yang benar di dalam kotak <code class="code-editor-inline">int main() { ... }</code>.</p>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="flex flex-col md:flex-row gap-6">
                            <!-- Drop Target -->
                            <div class="flex-1">
                                <h4 class="font-semibold mb-2">Program Anda:</h4>
                                <pre class="code-editor !min-h-0 !bg-slate-800"><code>#include &lt;iostream&gt;
using namespace std;

int main() {
    <div id="drop-target" class="drop-target p-4 space-y-2 my-2">
        <!-- Potongan kode akan ditaruh di sini -->
    </div>
    return 0;
}</code></pre>
                            </div>
                            <!-- Drag Source -->
                            <div class="w-full md:w-64">
                                <h4 class="font-semibold mb-2">Potongan Kode:</h4>
                                <div id="drag-source" class="drag-container space-y-3">
                                    <div class="drag-item p-3 bg-white border border-slate-300 rounded-md shadow-sm" draggable="true" data-id="1"><code>cout << "Hello, World!";</code></div>
                                    <div class="drag-item p-3 bg-white border border-slate-300 rounded-md shadow-sm" draggable="true" data-id="2"><code>// Program pertamaku</code></div>
                                </div>
                            </div>
                        </div>
                        <button onclick="checkDragDrop('topic-2')" class="mt-6 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Susunan</button>
                    </div>
                `,
                quizData: { correctOrder: ["2", "1"] } // ID dari item yang bisa diseret
            },
            'topic-3': {
                title: '3. Menampilkan Output',
                materi: `
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Perintah <code class="code-editor-inline">cout</code></h3>
                        <p class="mb-4">Perintah standar di C++ untuk menampilkan output (teks, angka, dll) ke konsol. <code class="code-editor-inline">cout</code> singkatan dari <strong>C</strong>haracter <strong>Out</strong>put.</p>
                        <p class="mb-4">Kita memerlukan operator <code class="code-editor-inline"><<</code> (<strong>operator insertion</strong>) untuk "memasukkan" data ke <code class="code-editor-inline">cout</code>.</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>// Menampilkan teks (string)
cout << "Halo, ini program C++ saya!";

// Menampilkan angka
cout << 100;

// Menggabungkan output
cout << "Tahun ini " << 2025 << " dan saya " << "sedang belajar.";
// Output: Tahun ini 2025 dan saya sedang belajar.</code></pre>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Membuat Baris Baru (Enter)</h3>
                        <p class="mb-4">Secara default, <code class="code-editor-inline">cout</code> tidak pindah baris. Untuk pindah baris, ada dua cara:</p>
                        
                        <h4 class="text-lg font-semibold mt-4">1. Menggunakan <code class="code-editor-inline">endl</code></h4>
                        <p class="mb-2"><code class="code-editor-inline">endl</code> (<strong>end line</strong>) ditaruh di luar tanda kutip.</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>cout << "Baris satu." << endl;
cout << "Baris dua.";
// Output:
// Baris satu.
// Baris dua.</code></pre>

                        <h4 class="text-lg font-semibold mt-6">2. Menggunakan Karakter <code class="code-editor-inline">\\n</code></h4>
                        <p class="mb-2"><code class="code-editor-inline">\\n</code> (<strong>newline character</strong>) ditaruh *di dalam* tanda kutip.</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>cout << "Baris satu.\\nBaris dua.";
// Output:
// Baris satu.
// Baris dua.</code></pre>
                    </div>
                `,
                kuis: `
                    <h3 class="text-2xl font-semibold mb-4">Latihan: Melengkapi Kode</h3>
                    <p class="mb-4">Lengkapi bagian yang rumpang pada kode di bawah ini agar program berjalan sesuai instruksi.</p>
                    <div id="quiz-topic-3">
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 1: "Selamat Datang"</p>
                            <p class="mb-4">Lengkapi kode di bawah ini untuk menghasilkan output <code class="code-editor-inline">Selamat Datang</code>.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-2">
                                <pre><code>#include &lt;iostream&gt;
using namespace std;
int main() {
    <input type="text" class="fill-in-input" data-answer="cout << &quot;Selamat Datang&quot;;" placeholder="ketik di sini...">
    return 0;
}</code></pre>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 2: Pindah Baris dengan <code class="code-editor-inline">endl</code></p>
                            <p class="mb-4">Lengkapi kode agar "Baris Dua" tampil di bawah "Baris Satu" menggunakan <code class="code-editor-inline">endl</code>.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-3">
                                <pre><code>#include &lt;iostream&gt;
using namespace std;
int main() {
    cout << "Baris Satu";
    <input type="text" class="fill-in-input" data-answer="cout << endl;" placeholder="pindah baris di sini...">
    cout << "Baris Dua";
    return 0;
}</code></pre>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 3: Pindah Baris dengan <code class="code-editor-inline">\\n</code></p>
                            <p class="mb-4">Lengkapi satu baris <code class="code-editor-inline">cout</code> di bawah ini agar menghasilkan dua baris output.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-4">
                                <pre><code>#include &lt;iostream&gt;
using namespace std;
int main() {
    <input type="text" class="fill-in-input" data-answer="cout << &quot;Halo\nDunia&quot;;" placeholder="gunakan '\\n'...">
    return 0;
}</code></pre>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 4: Menggabungkan Teks dan <code class="code-editor-inline">endl</code></p>
                            <p class="mb-4">Lengkapi kode agar mencetak "Belajar C++" lalu pindah baris menggunakan <code class="code-editor-inline">endl</code>.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-5">
                                <pre><code>#include &lt;iostream&gt;
using namespace std;
int main() {
    cout << "Belajar C++" << <input type="text" class="fill-in-input !w-32" data-answer="endl;" placeholder="...;">;
    return 0;
}</code></pre>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 5: Beberapa Baris dalam Satu String</p>
                            <p class="mb-4">Lengkapi satu string di bawah ini agar menghasilkan output tiga baris: <br>Baris 1<br>Baris 2<br>Baris 3</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-6">
                                <pre><code>#include &lt;iostream&gt;
using namespace std;
int main() {
    cout << <input type="text" class="fill-in-input" data-answer="&quot;Baris 1\nBaris 2\nBaris 3&quot;" placeholder="&quot;...&quot;">;
    return 0;
}</code></pre>
                            </div>
                        </div>
                        <button onclick="checkFillIn('quiz-topic-3', 5)" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Semua Jawaban</button>
                    </div>
                `,
                quizData: {}
            },
            'topic-4': {
                title: '4. Tipe Data & Variabel',
                materi: `
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Apa Itu Variabel?</h3>
                        <p class="mb-4">Bayangkan <strong>Variabel</strong> sebagai sebuah kotak penyimpanan yang memiliki nama (label). Anda bisa menggunakannya untuk menyimpan data di dalam program.</p>
                        <p class="mb-2">Saat Anda membuat variabel, Anda harus memberi tahu C++ dua hal:</p>
                        <ol class="list-decimal list-inside space-y-2 bg-slate-50 p-4 rounded-md">
                            <li><strong>Tipe Data:</strong> Jenis data apa yang akan disimpan di kotak itu?</li>
                            <li><strong>Nama Variabel:</strong> Apa nama (label) dari kotak itu?</li>
                        </ol>
                        <pre class="code-editor !min-h-0 !bg-slate-800 mt-4"><code>// Proses ini disebut "Deklarasi"
// Format: TipeData NamaVariabel;

int umur;
string nama;</code></pre>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Tipe Data Primitif (Dasar)</h3>
                        <p class="mb-4">Ini adalah beberapa tipe data paling dasar yang akan sering kita gunakan:</p>
                        <table class="w-full border-collapse">
                            <thead><tr class="bg-slate-100"><th class="border p-3 text-left">Tipe Data</th><th class="border p-3 text-left">Kegunaan</th><th class="border p-3 text-left">Contoh Kode</th></tr></thead>
                            <tbody>
                                <tr><td class="border p-3"><code class="code-editor-inline">int</code></td><td class="border p-3">Menyimpan bilangan bulat (tanpa desimal).</td><td class="border p-3"><code>int jumlahSiswa = 30;</code></td></tr>
                                <tr><td class="border p-3"><code class="code-editor-inline">float</code></td><td class="border p-3">Menyimpan bilangan desimal (presisi tunggal, ~7 digit).</td><td class="border p-3"><code>float nilai_ip = 3.85;</code></td></tr>
                                <tr><td class="border p-3"><code class="code-editor-inline">double</code></td><td class="border p-3">Menyimpan bilangan desimal (presisi ganda, ~15 digit).</td><td class="border p-3"><code>double nilaiUjian = 85.5;</code></td></tr>
                                <tr><td class="border p-3"><code class="code-editor-inline">string</code></td><td class="border p-3">Menyimpan teks (kumpulan karakter). Wajib pakai <code class="code-editor-inline">""</code>.</td><td class="border p-3"><code>string nama = "Budi";</code></td></tr>
                                <tr><td class="border p-3"><code class="code-editor-inline">char</code></td><td class="border p-3">Menyimpan SATU karakter saja. Wajib pakai <code class="code-editor-inline">''</code>.</td><td class="border p-3"><code>char grade = 'A';</code></td></tr>
                                <tr><td class="border p-3"><code class="code-editor-inline">bool</code></td><td class="border p-3">Menyimpan nilai logika: <code class="font-mono">true</code> atau <code class="font-mono">false</code>.</td><td class="border p-3"><code>bool sudahLulus = true;</code></td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Deklarasi vs Inisialisasi</h3>
                        <p class="mb-4">Ada dua langkah dalam menggunakan variabel:</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>// 1. Deklarasi
// Hanya "memesan" kotak, tapi kotaknya masih kosong.
int tinggiBadan;

// 2. Assignment (Mengisi nilai)
// Menaruh nilai ke dalam kotak yang sudah ada.
tinggiBadan = 170;

// --- ATAU ---

// 3. Inisialisasi (Cara cepat)
// Langsung "memesan" kotak DAN mengisinya sekaligus.
int tinggiBadan = 170;</code></pre>
                    </div>
                `,
                kuis: `
                    <div id="quiz-topic-4">
                        <h3 class="text-2xl font-semibold mb-4">Bagian 1: Pilihan Ganda</h3>
                        <p class="mb-4">Pilihlah tipe data yang paling tepat untuk menyimpan data berikut.</p>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div id="quiz-pg-topic-4" class="space-y-6">
                                <div><p class="font-semibold mb-3">1. Data: "Jumlah Siswa di Kelas" (contoh: 32)</p><div class="space-y-2"><div><label><input type="radio" name="q1" value="A" class="mr-2"> A. <code class="code-editor-inline">string</code></label></div><div><label><input type="radio" name="q1" value="B" class="mr-2"> B. <code class="code-editor-inline">double</code></label></div><div><label><input type="radio" name="q1" value="C" class="mr-2"> C. <code class="code-editor-inline">int</code></label></div><div><label><input type="radio" name="q1" value="D" class="mr-2"> D. <code class="code-editor-inline">char</code></label></div></div><div id="feedback-q1" class="quiz-feedback"></div></div>
                                <div><p class="font-semibold mb-3">2. Data: "Nilai Rata-rata" (contoh: 85.7)</p><div class="space-y-2"><div><label><input type="radio" name="q2" value="A" class="mr-2"> A. <code class="code-editor-inline">double</code></label></div><div><label><input type="radio" name="q2" value="B" class="mr-2"> B. <code class="code-editor-inline">int</code></label></div><div><label><input type="radio" name="q2" value="C" class="mr-2"> C. <code class="code-editor-inline">string</code></label></div><div><label><input type="radio" name="q2" value="D" class="mr-2"> D. <code class="code-editor-inline">bool</code></label></div></div><div id="feedback-q2" class="quiz-feedback"></div></div>
                                <div><p class="font-semibold mb-3">3. Data: "Nama Lengkap" (contoh: "Andi Pratama")</p><div class="space-y-2"><div><label><input type="radio" name="q3" value="A" class="mr-2"> A. <code class="code-editor-inline">char</code></label></div><div><label><input type="radio" name="q3" value="B" class="mr-2"> B. <code class="code-editor-inline">string</code></label></div><div><label><input type="radio" name="q3" value="C" class="mr-2"> C. <code class="code-editor-inline">int</code></label></div><div><label><input type="radio" name="q3" value="D" class="mr-2"> D. <code class="code-editor-inline">double</code></label></div></div><div id="feedback-q3" class="quiz-feedback"></div></div>
                                <button onclick="checkQuiz('pg-topic-4', 3)" class="mt-6 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Pilihan Ganda</button>
                            </div>
                        </div>
                        <h3 class="text-2xl font-semibold mt-8 mb-4">Bagian 2: Melengkapi Kode</h3>
                        <p class="mb-4">Tuliskan sintaks C++ yang tepat untuk instruksi berikut.</p>
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 1: Deklarasi</p>
                            <p class="mb-4">Deklarasikan sebuah variabel bernama <code class="code-editor-inline">umur</code> untuk menyimpan data bilangan bulat.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-7">
                                <pre><code><input type="text" class="fill-in-input" data-answer="int umur;" placeholder="TipeData NamaVariabel;">
    
// Variabel 'umur' siap digunakan
</code></pre>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 2: Deklarasi</p>
                            <p class="mb-4">Deklarasikan sebuah variabel bernama <code class="code-editor-inline">hurufDepan</code> untuk menyimpan satu karakter.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-8">
                                <pre><code><input type="text" class="fill-in-input" data-answer="char hurufDepan;" placeholder="TipeData NamaVariabel;">
    
// Variabel 'hurufDepan' siap digunakan
</code></pre>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 3: Inisialisasi</p>
                            <p class="mb-4">Deklarasikan DAN inisialisasikan (isi langsung) variabel <code class="code-editor-inline">namaSekolah</code> dengan nilai teks "SMAN 1".</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-9">
                                <pre><code>// Gunakan tanda kutip "" untuk string
<input type="text" class="fill-in-input" data-answer="string namaSekolah = &quot;SMAN 1&quot;;" placeholder="TipeData NamaVariabel = Nilai;">
    
cout << namaSekolah; // Akan menampilkan "SMAN 1"</code></pre>
                            </div>
                        </div>
                        <button onclick="checkFillIn('quiz-topic-4', 3)" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Melengkapi Kode</button>
                    </div>
                `,
                quizData: { q1: 'C', q2: 'A', q3: 'B' }
            },
            'topic-5': {
                title: '5. Menerima Input',
                materi: `
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Perintah <code class="code-editor-inline">cin</code></h3>
                        <p class="mb-4">Jika <code class="code-editor-inline">cout</code> untuk menampilkan output, <code class="code-editor-inline">cin</code> adalah perintah untuk menerima input dari pengguna. <code class="code-editor-inline">cin</code> singkatan dari <strong>C</strong>haracter <strong>In</strong>put.</p>
                        <p class="mb-4">Untuk menggunakannya, kita memerlukan operator <code class="code-editor-inline">>></code> (disebut <strong>operator extraction</strong> atau "operator ekstraksi"). Anda bisa membayangkannya sebagai panah yang "mengekstrak" data dari keyboard dan memasukkannya ke variabel.</p>
                        
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>// 1. Deklarasikan variabel dulu (siapkan "kotak")
int umur;
string nama;

// 2. Minta pengguna mengetik sesuatu
cout << "Masukkan umur Anda: ";

// 3. Ambil input dan simpan ke variabel 'umur'
cin >> umur;

// 4. Minta lagi
cout << "Masukkan nama depan Anda: ";

// 5. Ambil input dan simpan ke variabel 'nama'
cin >> nama;

// 6. Tampilkan hasilnya
cout << "Halo, " << nama << "! Umur Anda " << umur << " tahun." << endl;</code></pre>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Penting: <code class="code-editor-inline">cin</code> dan Spasi</h3>
                        <div class="bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4" role="alert">
                            <p class="font-bold">Perhatian!</p>
                            <p><code class="code-editor-inline">cin</code> akan berhenti membaca input ketika menemukan <strong>spasi</strong> (atau tombol Enter).</p>
                        </div>
                        <p class="my-4">Jika Anda mencoba memasukkan nama lengkap seperti "Budi Santoso" menggunakan kode di atas:</p>
                        <ul class="list-disc list-inside space-y-2">
                            <li><code class="code-editor-inline">cin >> nama;</code> hanya akan mengambil "Budi".</li>
                            <li>"Santoso" akan tertinggal dan bisa mengacaukan perintah <code class="code-editor-inline">cin</code> berikutnya.</li>
                        </ul>
                        <p class="mt-4">Untuk saat ini, kita akan gunakan <code class="code-editor-inline">cin</code> untuk data yang tidak mengandung spasi (seperti nama depan, umur, satu angka, dll). Cara untuk membaca satu baris penuh (termasuk spasi) akan dipelajari di materi selanjutnya.</p>
                    </div>
                `,
                kuis: `
                    <div id="quiz-topic-5">
                        <h3 class="text-2xl font-semibold mb-4">Bagian 1: Pilihan Ganda</h3>
                        <p class="mb-4">Pilihlah jawaban yang paling tepat.</p>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div id="quiz-pg-topic-5" class="space-y-6">
                                <div><p class="font-semibold mb-3">1. Perintah apa yang digunakan untuk menerima input dari pengguna?</p><div class="space-y-2"><div><label><input type="radio" name="q1" value="A" class="mr-2"> A. <code class="code-editor-inline">cout</code></label></div><div><label><input type="radio" name="q1" value="B" class="mr-2"> B. <code class="code-editor-inline">cin</code></label></div><div><label><input type="radio" name="q1" value="C" class="mr-2"> C. <code class="code-editor-inline">main()</code></label></div><div><label><input type="radio" name="q1" value="D" class="mr-2"> D. <code class="code-editor-inline">#include</code></label></div></div><div id="feedback-q1" class="quiz-feedback"></div></div>
                                <div><p class="font-semibold mb-3">2. Operator apa yang digunakan bersama <code class="code-editor-inline">cin</code>?</p><div class="space-y-2"><div><label><input type="radio" name="q2" value="A" class="mr-2"> A. <code class="code-editor-inline"><<</code> (Insertion)</label></div><div><label><input type="radio" name="q2" value="B" class="mr-2"> B. <code class="code-editor-inline">>></code> (Extraction)</label></div><div><label><input type="radio" name="q2" value="C" class="mr-2"> C. <code class="code-editor-inline">=</code> (Assignment)</label></div><div><label><input type="radio" name="q2" value="D" class="mr-2"> D. <code class="code-editor-inline">()</code> (Parentheses)</label></div></div><div id="feedback-q2" class="quiz-feedback"></div></div>
                                <div><p class="font-semibold mb-3">3. Jika pengguna mengetik "Budi Santoso" saat program menjalankan <code class="code-editor-inline">cin >> nama;</code> (dimana <code class="code-editor-inline">nama</code> adalah <code class="code-editor-inline">string</code>), apa yang akan tersimpan di variabel <code class="code-editor-inline">nama</code>?</p><div class="space-y-2"><div><label><input type="radio" name="q3" value="A" class="mr-2"> A. "Budi Santoso"</label></div><div><label><input type="radio" name="q3" value="B" class="mr-2"> B. "Budi"</label></div><div><label><input type="radio" name="q3" value="C" class="mr-2"> C. "Santoso"</label></div><div><label><input type="radio" name="q3" value="D" class="mr-2"> D. Program akan error</label></div></div><div id="feedback-q3" class="quiz-feedback"></div></div>
                                <button onclick="checkQuiz('pg-topic-5', 3)" class="mt-6 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Pilihan Ganda</button>
                            </div>
                        </div>

                        <h3 class="text-2xl font-semibold mt-8 mb-4">Bagian 2: Melengkapi Kode</h3>
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 1: Input Bilangan</p>
                            <p class="mb-4">Lengkapi kode untuk menerima input angka ke variabel <code class="code-editor-inline">bilangan</code>.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-1">
                                <pre><code>#include &lt;iostream&gt;
using namespace std;
int main() {
    int bilangan;
    cout << "Masukkan sebuah bilangan: ";
    
    // Terima input ke variabel 'bilangan'
    <input type="text" class="fill-in-input" data-answer="cin >> bilangan;" placeholder="ketik di sini...">

    cout << "Anda memasukkan: " << bilangan << endl;
    return 0;
}</code></pre>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 2: Input Teks</p>
                            <p class="mb-4">Lengkapi kode untuk menerima input nama depan ke variabel <code class="code-editor-inline">namaDepan</code>.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-10">
                                <pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;
int main() {
    string namaDepan;
    cout << "Masukkan nama depan Anda: ";
    
    <input type="text" class="fill-in-input" data-answer="cin >> namaDepan;" placeholder="terima input di sini...">

    cout << "Halo, " << namaDepan << "!" << endl;
    return 0;
}</code></pre>
                            </div>
                        </div>
                        <button onclick="checkFillIn('quiz-topic-5', 2)" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Melengkapi Kode</button>
                    </div>
                `,
                quizData: { q1: 'B', q2: 'B', q3: 'B' }
            },
            'topic-6': {
                title: '6. Operator Aritmatika',
                materi: `
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Operator Aritmatika Dasar</h3>
                        <p class="mb-4">Ini adalah operator matematika dasar yang digunakan untuk melakukan perhitungan:</p>
                        <table class="w-full border-collapse">
                            <thead><tr class="bg-slate-100"><th class="border p-3 text-left">Operator</th><th class="border p-3 text-left">Nama</th><th class="border p-3 text-left">Contoh</th><th class="border p-3 text-left">Hasil</th></tr></thead>
                            <tbody>
                                <tr><td class="border p-3"><code>+</code></td><td class="border p-3">Penjumlahan</td><td class="border p-3"><code>int x = 5 + 3;</code></td><td class="border p-3"><code>8</code></td></tr>
                                <tr><td class="border p-3"><code>-</code></td><td class="border p-3">Pengurangan</td><td class="border p-3"><code>int x = 5 - 3;</code></td><td class="border p-3"><code>2</code></td></tr>
                                <tr><td class="border p-3"><code>*</code></td><td class="border p-3">Perkalian</td><td class="border p-3"><code>int x = 5 * 3;</code></td><td class="border p-3"><code>15</code></td></tr>
                                <tr><td class="border p-3"><code>/</code></td><td class="border p-3">Pembagian</td><td class="border p-3"><code>int x = 10 / 2;</code></td><td class="border p-3"><code>5</code></td></tr>
                                <tr><td class="border p-3"><code>%</code></td><td class="border p-3">Modulus (Sisa Bagi)</td><td class="border p-3"><code>int x = 5 % 3;</code></td><td class="border p-3"><code>2</code></td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Penting: Pembagian Integer vs Desimal</h3>
                        <div class="bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4" role="alert">
                            <p class="font-bold">Perhatian!</p>
                            <p>Jika Anda membagi dua bilangan <code class="code-editor-inline">int</code>, hasilnya akan selalu <code class="code-editor-inline">int</code> (dibulatkan ke bawah).</p>
                        </div>
                        <pre class="code-editor !min-h-0 !bg-slate-800 mt-4"><code>int x = 5 / 2;
// Hasilnya 'x' adalah 2, bukan 2.5

double y = 5 / 2;
// Hasilnya 'y' adalah 2.0, BUKAN 2.5
// Kenapa? Karena 5 dan 2 adalah int, jadi C++ menghitung 5/2 (hasil 2)
// baru menyimpannya ke double (hasil 2.0)

double z = 5.0 / 2;
// Hasilnya 'z' adalah 2.5
// Karena salah satunya adalah desimal (5.0), C++ melakukan pembagian desimal.</code></pre>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Urutan Operasi (Presedensi)</h3>
                        <p>C++ mengikuti urutan operasi matematika (seperti "KaBaTaKu"):</p>
                        <ol class="list-decimal list-inside space-y-2 bg-slate-50 p-4 rounded-md">
                            <li><code>( )</code> (Tanda kurung)</li>
                            <li><code>*</code>, <code>/</code>, <code>%</code> (Perkalian, Pembagian, Modulus)</li>
                            <li><code>+</code>, <code>-</code> (Penjumlahan, Pengurangan)</li>
                        </ol>
                        <pre class="code-editor !min-h-0 !bg-slate-800 mt-4"><code>int hasil = 5 + 3 * 2;
// C++ akan mengerjakan 3 * 2 dulu (hasil 6)
// Baru 5 + 6 (hasil 11)
// 'hasil' akan bernilai 11, bukan 16</code></pre>
                    </div>
                `,
                kuis: `
                    <h3 class="text-2xl font-semibold mb-4">Latihan: Isian Singkat (Tracing Kode)</h3>
                    <p class="mb-4">Lacak nilai variabel dari potongan kode berikut dan tuliskan jawaban akhirnya.</p>
                    <div id="quiz-topic-6">
                        <!-- Latihan 1 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 1</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int x = 10;
int y = 3;
x = x + y * 2;
y = x % y;</code></pre>
                            <p class="mt-4">Berapa nilai <code class="code-editor-inline">y</code> di akhir program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="1">
                        </div>
                        <!-- Latihan 2 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 2</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int a = 5;
int b = 2;
double c = a / b;</code></pre>
                            <p class="mt-4">Berapa nilai <code class="code-editor-inline">c</code> di akhir program? (Gunakan titik . untuk desimal)</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="2.0">
                        </div>
                        <!-- Latihan 3 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 3</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int x = 2;
x = x * (10 - 5);
x = x + x;</code></pre>
                            <p class="mt-4">Berapa nilai <code class="code-editor-inline">x</code> di akhir program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="20">
                        </div>
                        <!-- Latihan 4 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 4</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int p = 15;
int q = 4;
p = (p / q) * q;</code></pre>
                            <p class="mt-4">Berapa nilai <code class="code-editor-inline">p</code> di akhir program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="12">
                        </div>
                        <!-- Latihan 5 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 5</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int x, y;
x = -16; 
y = 8; 
x = x + y; 
x = y - x;</code></pre>
                            <p class="mt-4">Berapa nilai <code class="code-editor-inline">x</code> di akhir program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="16">
                        </div>
                        <!-- Latihan 6 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 6</p>
                            <p class="mb-4">Jika inputnya adalah <code class="code-editor-inline">11 6 7</code>, berapakah outputnya?</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int A, B, C; 
cin >> A >> B >> C; 
B = A - B; 
C = A - C; 
A = B + C; 
cout << (A+B)*C << endl;</code></pre>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="56">
                        </div>

                        <button onclick="checkFillIn('quiz-topic-6', 6)" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Semua Jawaban</button>
                    </div>
                `,
                quizData: {}
            },
            'topic-7': {
                title: '7. Percabangan',
                materi: `
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Konsep Percabangan</h3>
                        <p class="mb-4">Percabangan memungkinkan program Anda mengambil keputusan. "Jika kondisi A benar, lakukan ini. Jika tidak, lakukan itu."</p>
                        <p>Ini adalah pondasi dari program yang "pintar". Kita menggunakan <code class="code-editor-inline">if</code>, <code class="code-editor-inline">else if</code>, dan <code class="code-editor-inline">else</code>.</p>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">1. <code class="code-editor-inline">if</code> (Jika)</h3>
                        <p class="mb-4">Hanya menjalankan kode jika kondisi di dalam <code class="code-editor-inline">( )</code> bernilai <code class="code-editor-inline">true</code>.</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>int umur = 20;
if (umur > 17) {
    cout << "Anda boleh membuat KTP";
}
// Output: Anda boleh membuat KTP</code></pre>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">2. <code class="code-editor-inline">if-else</code> (Jika-Maka)</h3>
                        <p class="mb-4">Menyediakan jalur alternatif jika kondisi <code class="code-editor-inline">if</code> bernilai <code class="code-editor-inline">false</code>.</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>int nilai = 70;
if (nilai >= 75) {
    cout << "Lulus";
} else {
    cout << "Remedial";
}
// Output: Remedial</code></pre>
                    </div>

                    <!-- VISUALISASI PERCABANGAN (IF-ELSE) -->
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Visualisasi Konsep: <code class="code-editor-inline">if-else</code></h3>
                        <p class="mb-4">Masukkan sebuah angka dan lihat bagaimana program memutuskan jalur "Ganjil" atau "Genap".</p>
                        <div class="flex items-center gap-4 mb-4">
                            <label for="viz-if-input" class="font-semibold">Input <code class="code-editor-inline">int x =</code></label>
                            <input type="number" id="viz-if-input" value="7" class="border border-slate-300 rounded-md p-2 w-24">
                            <button id="viz-if-btn" onclick="visualizeIf()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-play mr-2"></i>Jalankan Visualisasi
                            </button>
                        </div>
                        
                        <!-- FLOWCHART IF-ELSE RAPI -->
                        <div id="viz-if-container" class="viz-container">
                            <div class="viz-node start-end" id="viz-if-1">Mulai</div>
                            <div class="viz-arrow"></div>
                            <div class="viz-node io" id="viz-if-2"><span>Baca x</span></div>
                            <div class="viz-arrow"></div>
                            <div class="viz-node decision" id="viz-if-3"><span>x % 2 == 0 ?</span></div>
                            
                            <!-- Cabang -->
                            <div class="viz-branch">
                                <span class="viz-line-h-label viz-label-true">True</span>
                                <span class="viz-line-h-label viz-label-false">False</span>
                                <div class="viz-line-h" style="width: 80%;"></div>
                            </div>
                            <div class="viz-branch">
                                <!-- Kolom Kiri (True) -->
                                <div class="viz-branch-col">
                                    <div class="viz-arrow"></div>
                                    <div class="viz-node" id="viz-if-4">cetak "Genap"</div>
                                </div>
                                <!-- Kolom Kanan (False) -->
                                <div class="viz-branch-col">
                                    <div class="viz-arrow"></div>
                                    <div class="viz-node" id="viz-if-5">cetak "Ganjil"</div>
                                </div>
                            </div>

                            <!-- Gabung -->
                            <div class="viz-line-merge">
                                <div class="viz-line-merge-h left"></div>
                                <div class="viz-line-merge-h right"></div>
                            </div>
                            <div class="viz-arrow" style="margin-top: 0;"></div>
                            <div class="viz-node start-end" id="viz-if-6">Selesai</div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">3. <code class="code-editor-inline">if-else if-else</code> (Banyak Kondisi)</h3>
                        <p class="mb-4">Untuk mengecek beberapa kondisi secara berurutan. Begitu satu kondisi benar, sisanya akan dilewati.</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>int ph = 4;
if (ph < 7) {
    cout << "Asam";
} else if (ph > 7) {
    cout << "Basa";
} else {
    cout << "Netral";
}
// Output: Asam</code></pre>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">4. <code class="code-editor-inline">if</code> Bersarang (Nested If)</h3>
                        <p class="mb-4">Anda bisa meletakkan <code class="code-editor-inline">if</code> di dalam <code class="code-editor-inline">if</code> lain untuk logika yang lebih kompleks.</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>int umur = 20;
bool punyaSIM = false;
if (umur > 17) {
    if (punyaSIM == true) {
        cout << "Boleh berkendara";
    } else {
        cout << "Boleh buat SIM, tapi belum boleh berkendara";
    }
} else {
    cout << "Belum cukup umur";
}
// Output: Boleh buat SIM, tapi belum boleh berkendara</code></pre>
                    </div>
                `,
                kuis: `
                    <div id="quiz-topic-7">
                        <h3 class="text-2xl font-semibold mb-4">Bagian 1: Isian Singkat (Tracing Kode)</h3>
                        <p class="mb-4">Lacak program berikut dan tuliskan output akhirnya. Hati-hati dengan output string, <code class="code-editor-inline">angka</code> vs <code class="code-editor-inline">"angka"</code>!</p>
                        <!-- Latihan 1 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 1 (Termudah)</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int angka = 17;
if (angka % 2 == 0) {
    angka = 0;
} else {
    angka = -1;
}
cout << "angka";</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="angka">
                        </div>
                        <!-- Latihan 2 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 2</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int x = 10;
if (x > 5) {
    x = x + 5;
}
if (x == 15) {
    x = x * 2;
}
cout << x;</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="30">
                        </div>
                        <!-- Latihan 3 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 3</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int nilai = 85;
if (nilai >= 90) {
    cout << "A";
} else if (nilai >= 80) {
    cout << "B";
} else if (nilai >= 70) {
    cout << "C";
} else {
    cout << "D";
}</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="B">
                        </div>
                        <!-- Latihan 4 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 4</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int x = 10;
int y = 12;
if (x > y) {
    cout << x;
} else {
    cout << y;
}
cout << x + y;</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="1222">
                        </div>
                        <!-- Latihan 5 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 5 (Tersulit)</p>
                            <p class="mb-4">Input: <code class="code-editor-inline">x=3</code>, <code class="code-editor-inline">y=5</code>, <code class="code-editor-inline">z=8</code>. Berapakah outputnya?</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int x, y, z, t;
// Anggap x, y, z sudah di-input
if (x > y) {
    if (z > x) { t = z; }
    else { t = x; } 
} else {
    if (z > y) { t = z; }
    else { t = y; }
} 
cout << t;</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="8">
                        </div>
                        <!-- Latihan 6 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 6</p>
                            <p class="mb-4">Input: <code class="code-editor-inline">skor=100</code>, <code class="code-editor-inline">level=5</code>. Berapakah outputnya?</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int skor, level;
// Anggap skor dan level sudah di-input
if (skor >= 100) {
    if (level >= 10) {
        cout << "Master";
    } else {
        cout << "Pro";
    }
} else {
    cout << "Newbie";
}</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="Pro">
                        </div>
                        <button onclick="checkFillIn('quiz-topic-7', 6)" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Isian Singkat</button>
                    
                        <h3 class="text-2xl font-semibold mt-8 mb-4">Bagian 2: Melengkapi Kode</h3>
                        <!-- Latihan 1 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 1: Cek Kelulusan</p>
                            <p class="mb-4">Lengkapi kondisi <code class="code-editor-inline">if</code> untuk mengecek apakah <code class="code-editor-inline">nilai</code> lebih besar atau sama dengan 75.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-11">
                                <pre><code>int nilai = 80;
if (<input type="text" class="fill-in-input" data-answer="nilai >= 75" placeholder="kondisi di sini...">) {
    cout << "Lulus";
} else {
    cout << "Remedial";
}</code></pre>
                            </div>
                        </div>
                        <!-- Latihan 2 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 2: Sintaks <code class="code-editor-inline">else if</code></p>
                            <p class="mb-4">Lengkapi bagian yang rumpang untuk mengecek jika <code class="code-editor-inline">angka</code> adalah 0.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-12">
                                <pre><code>int angka = 0;
if (angka > 0) {
    cout << "Positif";
} <input type="text" class="fill-in-input" data-answer="else if (angka == 0)" placeholder="else if (...)"> {
    cout << "Nol";
} else {
    cout << "Negatif";
}</code></pre>
                            </div>
                        </div>
                        <!-- Latihan 3 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 3: Operator Logika</p>
                            <p class="mb-4">Lengkapi kondisi untuk mengecek jika <code class="code-editor-inline">umur</code> di antara 13 DAN 19 (inklusif).</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-13">
                                <pre><code>int umur = 15;
// Gunakan && (AND)
if (<input type="text" class="fill-in-input" data-answer="umur >= 13 && umur <= 19" placeholder="kondisi... && ...">) {
    cout << "Remaja";
} else {
    cout << "Bukan Remaja";
}</code></pre>
                            </div>
                        </div>
                        <button onclick="checkFillIn('quiz-topic-7', 3)" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Melengkapi Kode</button>

                        <h3 class="text-2xl font-semibold mt-8 mb-4">Bagian 3: Full Kode Program (Konsol Interaktif)</h3>
                        <p class="mb-4">Tulis program C++ lengkap di editor. Klik "Jalankan Kode" untuk menguji. Sistem akan mengecek output Anda secara otomatis.</p>
                        
                        <!-- Latihan 1: Ganjil Genap -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-2">Latihan 1: Ganjil atau Genap</p>
                            <p class="mb-4">Buat program yang menerima satu input bilangan bulat (<code class="code-editor-inline">int x</code>) dan mencetak "Ganjil" atau "Genap".</p>
                            <textarea id="code-exercise-ganjil-genap" class="code-editor" rows="12" placeholder="Tulis kode C++ lengkap Anda di sini..."></textarea>
                            <div class="code-output" id="output-ganjil-genap"><span class="text-slate-500">Konsol output akan muncul di sini...</span></div>
                            <button onclick="runFullCode('ganjil-genap')" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-play mr-2"></i>Jalankan Kode
                            </button>
                        </div>
                        
                        <!-- Latihan 2: Positif Negatif Nol -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-2">Latihan 2: Positif, Negatif, atau Nol</p>
                            <p class="mb-4">Buat program yang menerima satu input bilangan bulat dan mencetak "Positif", "Negatif", atau "Nol".</p>
                            <textarea id="code-exercise-pos-neg-nol" class="code-editor" rows="12" placeholder="Tulis kode C++ lengkap Anda di sini..."></textarea>
                            <div class="code-output" id="output-pos-neg-nol"><span class="text-slate-500">Konsol output akan muncul di sini...</span></div>
                            <button onclick="runFullCode('pos-neg-nol')" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-play mr-2"></i>Jalankan Kode
                            </button>
                        </div>

                        <!-- Latihan 3: Asam Basa Netral -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-2">Latihan 3: pH Air</p>
                            <p class="mb-4">Buat program yang menerima satu input integer <code class="code-editor-inline">ph</code>. Cetak "Asam" jika pH < 7, "Basa" jika pH > 7, dan "Netral" jika pH == 7.</p>
                            <textarea id="code-exercise-ph" class="code-editor" rows="12" placeholder="Tulis kode C++ lengkap Anda di sini..."></textarea>
                            <div class="code-output" id="output-ph"><span class="text-slate-500">Konsol output akan muncul di sini...</span></div>
                            <button onclick="runFullCode('ph')" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-play mr-2"></i>Jalankan Kode
                            </button>
                        </div>
                    </div>
                `,
                quizData: {}
            },
            'topic-8': {
                title: '8. Perulangan',
                materi: `
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Konsep Perulangan (Looping)</h3>
                        <p class="mb-4">Perulangan digunakan untuk menjalankan blok kode yang sama berulang kali selama kondisi tertentu terpenuhi. Ini sangat efisien untuk tugas-tugas repetitif.</p>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">1. <code class="code-editor-inline">for</code> loop</h3>
                        <p class="mb-4">Biasa digunakan ketika kita tahu pasti berapa kali kita ingin mengulang. Strukturnya memiliki 3 bagian:</p>
                        <ol class="list-decimal list-inside space-y-2 bg-slate-50 p-4 rounded-md">
                            <li><strong>Inisialisasi:</strong> Dijalankan sekali di awal (misal: <code class="code-editor-inline">int i = 0</code>).</li>
                            <li><strong>Kondisi:</strong> Dicek setiap kali sebelum loop berjalan (misal: <code class="code-editor-inline">i < 5</code>).</li>
                            <li><strong>Iterasi/Increment:</strong> Dijalankan setiap kali setelah loop selesai (misal: <code class="code-editor-inline">i++</code>).</li>
                        </ol>
                        <pre class="code-editor !min-h-0 !bg-slate-800 mt-4"><code>// Loop ini akan berjalan 5 kali (untuk i = 0, 1, 2, 3, 4)
for (int i = 0; i < 5; i++) {
    cout << "Hello" << endl;
}</code></pre>
                    </div>

                    <!-- VISUALISASI PERULANGAN (FOR) -->
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Visualisasi Konsep: <code class="code-editor-inline">for</code> loop</h3>
                        <p class="mb-4">Klik tombol di bawah untuk melihat alur visual dari <code class="code-editor-inline">for (int i = 0; i < 3; i++)</code>.</p>
                        <div class="mb-4">
                            <button id="viz-for-btn" onclick="visualizeFor()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-play mr-2"></i>Jalankan Visualisasi
                            </button>
                        </div>
                        
                        <!-- FLOWCHART FOR RAPI -->
                        <div id="viz-for-container" class="viz-container">
                            <div class="viz-node start-end" id="viz-for-1">Mulai</div>
                            <div class="viz-arrow"></div>
                            <div class="viz-node" id="viz-for-2">i = 0</div>
                            <div class="viz-arrow"></div>
                            <div class="viz-node decision" id="viz-for-3"><span>i < 3 ?</span></div>
                            
                            <!-- Cabang False (Keluar) -->
                            <div class="viz-branch">
                                <div class="viz-branch-col" style="width: 70%;">
                                    <span class="viz-line-h-label viz-label-true" style="left: 35%;">True</span>
                                </div>
                                <div class="viz-branch-col" style="width: 30%;">
                                    <span class="viz-line-h-label viz-label-false" style="right: 15%;">False</span>
                                </div>
                            </div>
                            <div class="flex w-full items-start">
                                <!-- Kolom Kiri (True / Loop Body) -->
                                <div class="flex flex-col items-center" style="width: 70%; border-right: 2px solid #94A3B8; padding-right: 20px;">
                                    <div class="viz-arrow" style="height: 20px;"></div>
                                    <div class="viz-loop-body">
                                        <div class="viz-node" id="viz-for-4">cetak "Halo"</div>
                                        <div class="viz-arrow"></div>
                                        <div class="viz-node" id="viz-for-5">i++</div>
                                    </div>
                                    <div class="viz-loop-arrow-up"></div>
                                </div>
                                
                                <!-- Kolom Kanan (False / Selesai) -->
                                <div class="flex flex-col items-center" style="width: 30%; padding-left: 20px;">
                                    <div class="viz-arrow" style="height: 20px;"></div>
                                    <div class="viz-node start-end" id="viz-for-6">Selesai</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">2. <code class="code-editor-inline">while</code> loop</h3>
                        <p class="mb-4">Loop ini akan terus berjalan <strong>selama</strong> kondisi bernilai <code class="code-editor-inline">true</code>. Biasa digunakan ketika kita tidak tahu pasti berapa kali harus mengulang.</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>int i = 0;
while (i < 5) {
    cout << "Hello" << endl;
    i++; // Hati-hati! Tanpa ini, loop akan berjalan selamanya!
}</code></pre>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">3. <code class="code-editor-inline">do-while</code> loop</h3>
                        <p class="mb-4">Sama seperti <code class="code-editor-inline">while</code>, tapi loop ini <strong>pasti berjalan minimal satu kali</strong>, karena kondisi dicek di akhir.</p>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>string pilihan;
do {
    cout << "Masukkan 'exit' untuk keluar: ";
    cin >> pilihan;
} while (pilihan != "exit");</code></pre>
                    </div>
                `,
                kuis: `
                    <div id="quiz-topic-8">
                        <h3 class="text-2xl font-semibold mb-4">Bagian 1: Isian Singkat (Tracing Kode)</h3>
                        <p class="mb-4">Lacak program berikut dan tuliskan output akhirnya.</p>
                        <!-- Latihan 1 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 1</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int i;
for (i = 0; i < 3; i++) {
    cout << "A";
}</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="AAA">
                        </div>
                        <!-- Latihan 2 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 2</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int i = 0;
while (i <= 3) {
    cout << i;
    i++;
}</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="0123">
                        </div>
                        <!-- Latihan 3 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 3</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int total = 0;
for (int i = 1; i <= 4; i++) {
    total = total + i;
}
cout << total;</code></pre>
                            <p class="mt-4">Apakah output program? (1+2+3+4)</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="10">
                        </div>
                        <!-- Latihan 4 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 4</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>for (int i = 5; i > 2; i--) {
    cout << i << " ";
}</code></pre>
                            <p class="mt-4">Apakah output program? (Pisahkan dengan spasi)</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="5 4 3 ">
                        </div>
                        <!-- Latihan 5 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 5</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int i = 1;
int hasil = 1;
while (hasil < 10) {
    hasil = hasil * 2;
    i++;
}
cout << i;</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="5">
                        </div>
                        <!-- Latihan 6 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 6</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int i = 0;
do {
    cout << "X";
    i = 5;
} while (i == 0);</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="X">
                        </div>
                        <button onclick="checkFillIn('quiz-topic-8', 6)" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Isian Singkat</button>
                    
                        <h3 class="text-2xl font-semibold mt-8 mb-4">Bagian 2: Melengkapi Kode</h3>
                        <!-- Latihan 1 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 1: Struktur <code class="code-editor-inline">for</code></p>
                            <p class="mb-4">Lengkapi struktur <code class="code-editor-inline">for</code> loop agar mengulang 10 kali (i dari 0 s/d 9).</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-20">
                                <pre><code>for (<input type="text" class="fill-in-input" data-answer="int i = 0; i < 10; i++" placeholder="...; ...; ...">) {
    cout << "Ulang" << endl;
}</code></pre>
                            </div>
                        </div>
                        <!-- Latihan 2 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 2: Kondisi <code class="code-editor-inline">while</code></p>
                            <p class="mb-4">Lengkapi kondisi <code class="code-editor-inline">while</code> agar loop berhenti saat <code class="code-editor-inline">x</code> lebih besar dari 100.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-21">
                                <pre><code>int x = 1;
while (<input type="text" class="fill-in-input" data-answer="x <= 100" placeholder="kondisi...">) {
    cout << x << endl;
    x = x * 2;
}</code></pre>
                            </div>
                        </div>
                        <!-- Latihan 3 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 3: Mundur (Decrement)</p>
                            <p class="mb-4">Lengkapi loop agar menghitung mundur dari 5 ke 1.</p>
                            <div class="code-editor !bg-slate-100 !text-slate-900" id="exercise-fill-in-22">
                                <pre><code>for (int i = 5; <input type="text" class="fill-in-input !w-24" data-answer="i >= 1" placeholder="i ...">; <input type="text" class="fill-in-input !w-16" data-answer="i--" placeholder="i...">) {
    cout << i << endl;
}</code></pre>
                            </div>
                        </div>
                        <button onclick="checkFillIn('quiz-topic-8', 3)" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Melengkapi Kode</button>

                        <h3 class="text-2xl font-semibold mt-8 mb-4">Bagian 3: Full Kode Program (Konsol Interaktif)</h3>
                        <p class="mb-4">Tulis program C++ lengkap di editor. Klik "Jalankan Kode" untuk menguji.</p>
                        
                        <!-- Latihan 1: Deret 1...x -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-2">Latihan 1: Deret 1 sampai X</p>
                            <p class="mb-4">Buat program yang menerima satu input <code class="code-editor-inline">int x</code>, lalu cetak deret angka dari 1 sampai x (dipisah spasi).</p>
                            <textarea id="code-exercise-deret-1-x" class="code-editor" rows="12" placeholder="Tulis kode C++ lengkap Anda di sini..."></textarea>
                            <div class="code-output" id="output-deret-1-x"><span class="text-slate-500">Konsol output akan muncul di sini...</span></div>
                            <button onclick="runFullCode('deret-1-x')" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-play mr-2"></i>Jalankan Kode
                            </button>
                        </div>
                        
                        <!-- Latihan 2: Deret x...1 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-2">Latihan 2: Deret X sampai 1</p>
                            <p class="mb-4">Buat program yang menerima satu input <code class="code-editor-inline">int x</code>, lalu cetak deret angka dari x sampai 1 (mundur, dipisah spasi).</p>
                            <textarea id="code-exercise-deret-x-1" class="code-editor" rows="12" placeholder="Tulis kode C++ lengkap Anda di sini..."></textarea>
                            <div class="code-output" id="output-deret-x-1"><span class="text-slate-500">Konsol output akan muncul di sini...</span></div>
                            <button onclick="runFullCode('deret-x-1')" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-play mr-2"></i>Jalankan Kode
                            </button>
                        </div>

                        <!-- Latihan 3: Hitung Jumlah -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-2">Latihan 3: Hitung Jumlah (Sum)</p>
                            <p class="mb-4">Buat program yang menerima satu input <code class="code-editor-inline">int x</code>, lalu hitung jumlah dari 1 + 2 + 3 + ... + x. Cetak totalnya.</p>
                            <textarea id="code-exercise-sum" class="code-editor" rows="12" placeholder="Tulis kode C++ lengkap Anda di sini..."></textarea>
                            <div class="code-output" id="output-sum"><span class="text-slate-500">Konsol output akan muncul di sini...</span></div>
                            <button onclick="runFullCode('sum')" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-play mr-2"></i>Jalankan Kode
                            </button>
                        </div>
                    </div>
                `,
                quizData: {}
            },
            'topic-9': {
                title: '9. Array',
                materi: `
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Konsep Array</h3>
                        <p class="mb-4"><strong>Array</strong> adalah variabel spesial yang bisa menampung <strong>banyak nilai</strong> sekaligus dalam satu nama. Bayangkan array sebagai sebuah "lemari" dengan banyak "laci" bernomor.</p>
                        <ul class="list-disc list-inside space-y-2">
                            <li><strong>Variabel Biasa:</strong> 1 nama = 1 nilai. <code class="code-editor-inline">int nilai = 80;</code></li>
                            <li><strong>Array:</strong> 1 nama = banyak nilai. <code class="code-editor-inline">int nilai[3] = {80, 90, 75};</code></li>
                        </ul>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Deklarasi & Akses Array</h3>
                        <p class="mb-4">Untuk mengakses nilai di dalam array, kita gunakan <strong>indeks</strong>. <strong>PENTING: Indeks array di C++ selalu dimulai dari 0.</strong></p>
                        
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>// 1. Deklarasi array ukuran 3 (indeks 0, 1, 2)
int nilai[3];

// 2. Mengisi nilai (assignment)
nilai[0] = 80; // Mengisi laci ke-0
nilai[1] = 90; // Mengisi laci ke-1
nilai[2] = 75; // Mengisi laci ke-2

// 3. Mengakses nilai
cout << nilai[1]; // Output: 90

// 4. Deklarasi sekaligus inisialisasi
int nilai[3] = {80, 90, 75};</code></pre>
                    </div>

                    <!-- VISUALISASI ARRAY INTERAKTIF -->
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Visualisasi Operasi Array</h3>
                        
                        <!-- Langkah 1: Buat Array -->
                        <div id="viz-array-step1" class="mb-4">
                            <p class="mb-4">1. Tentukan ukuran array (3-10):</p>
                            <div class="flex items-center gap-4">
                                <code class="code-editor-inline">int array[</code>
                                <input type="number" id="viz-array-size" min="3" max="10" value="5" class="border border-slate-300 rounded-md p-2 w-20">
                                <code class="code-editor-inline">];</code>
                                <button onclick="visualizeArrayCreate()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">Buat Array</button>
                            </div>
                        </div>

                        <!-- Langkah 2: Interaksi (sembunyi dulu) -->
                        <div id="viz-array-step2" class="hidden">
                            <p class="mb-4">2. Array telah dibuat. Sekarang operasikan:</p>
                            <!-- Tampilan Array -->
                            <div id="viz-array-container" class="flex flex-wrap gap-2 justify-center p-4 bg-slate-100 rounded-md mb-4" style="min-height: 100px;">
                                <!-- Sel array akan dibuat oleh JS -->
                            </div>
                            
                            <!-- Kontrol Operasi -->
                            <div class="flex gap-4 mb-4">
                                <button onclick="showArrayOp('set')" class="flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition">Set Nilai (Assignment)</button>
                                <button onclick="showArrayOp('get')" class="flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition">Get Nilai (Access)</button>
                            </div>

                            <!-- Form Set Nilai -->
                            <div id="viz-array-op-set" class="hidden bg-green-50 p-4 rounded-md border border-green-200">
                                <div class="flex flex-wrap items-center gap-4">
                                    <code class="code-editor-inline">array[</code>
                                    <input type="number" id="viz-array-set-index" placeholder="indeks" class="border border-slate-300 rounded-md p-2 w-20">
                                    <code class="code-editor-inline">] =</code>
                                    <input type="number" id="viz-array-set-value" placeholder="nilai" class="border border-slate-300 rounded-md p-2 w-24">
                                    <code class="code-editor-inline">;</code>
                                    <button onclick="visualizeArrayOp('set')" class="bg-green-600 text-white px-4 py-2 rounded-lg"><i class="fas fa-save mr-2"></i>Simpan</button>
                                </div>
                            </div>
                            
                            <!-- Form Get Nilai -->
                            <div id="viz-array-op-get" class="hidden bg-indigo-50 p-4 rounded-md border border-indigo-200">
                                <div class="flex flex-wrap items-center gap-4 mb-3">
                                    <code class="code-editor-inline">cout <<</code>
                                    <input type="text" id="viz-array-get-expr" placeholder="array[...]" class="border border-slate-300 rounded-md p-2 flex-1">
                                    <code class="code-editor-inline">;</code>
                                    <button onclick="visualizeArrayOp('get')" class="bg-indigo-600 text-white px-4 py-2 rounded-lg"><i class="fas fa-search mr-2"></i>Go</button>
                                </div>
                                <div id="viz-array-get-output" class="text-center font-bold text-lg text-indigo-800"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-xl font-semibold mb-3">Alokasi Memori Array</h3>
                        <p class="mb-4">Saat Anda mendeklarasikan array, komputer akan memesan memori secara berurutan. Ukuran total memori adalah <strong>(Ukuran Tipe Data) x (Jumlah Elemen)</strong>.</p>
                        <table class="w-full border-collapse mb-4">
                            <thead><tr class="bg-slate-100"><th class="border p-3 text-left">Tipe Data</th><th class="border p-3 text-left">Ukuran (Umum)</th></tr></thead>
                            <tbody>
                                <tr><td class="border p-3"><code class="code-editor-inline">int</code></td><td class="border p-3">4 bytes</td></tr>
                                <tr><td class="border p-3"><code class="code-editor-inline">float</code></td><td class="border p-3">4 bytes</td></tr>
                                <tr><td class="border p-3"><code class="code-editor-inline">double</code></td><td class="border p-3">8 bytes</td></tr>
                                <tr><td class="border p-3"><code class="code-editor-inline">char</code></td><td class="border p-3">1 byte</td></tr>
                                <tr><td class="border p-3"><code class="code-editor-inline">bool</code></td><td class="border p-3">1 byte</td></tr>
                            </tbody>
                        </table>
                        <pre class="code-editor !min-h-0 !bg-slate-800"><code>// Deklarasi array 'skor' dengan 10 elemen int
int skor[10];
// Memori yang dipesan = 4 bytes (int) * 10 = 40 bytes

// Deklarasi array 'harga' dengan 20 elemen double
double harga[20];
// Memori yang dipesan = 8 bytes (double) * 20 = 160 bytes</code></pre>
                    </div>
                `,
                kuis: `
                    <div id="quiz-topic-9">
                        <h3 class="text-2xl font-semibold mb-4">Bagian 1: Pilihan Ganda</h3>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div id="quiz-pg-topic-9" class="space-y-6">
                                <div>
                                    <p class="font-semibold mb-3">1. Manakah pernyataan yang paling TEPAT tentang array?</p>
                                    <div class="space-y-2">
                                        <div><label><input type="radio" name="q1" value="A" class="mr-2"> A. Array digunakan untuk menyimpan satu nilai dengan banyak tipe data.</label></div>
                                        <div><label><input type="radio" name="q1" value="B" class="mr-2"> B. Array digunakan untuk menyimpan banyak nilai dengan satu tipe data yang sama.</label></div>
                                        <div><label><input type="radio" name="q1" value="C" class="mr-2"> C. Indeks array di C++ dimulai dari 1.</label></div>
                                        <div><label><input type="radio" name="q1" value="D" class="mr-2"> D. Ukuran array bisa diubah setelah dideklarasikan.</label></div>
                                    </div>
                                    <div id="feedback-q1" class="quiz-feedback"></div>
                                </div>
                                <button onclick="checkQuiz('pg-topic-9', 1)" class="mt-6 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Pilihan Ganda</button>
                            </div>
                        </div>

                        <h3 class="text-2xl font-semibold mt-8 mb-4">Bagian 2: Isian Singkat</h3>
                        <!-- Latihan 2 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 2: Alokasi Memori</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>double harga[20];</code></pre>
                            <p class="mt-4">Berapa total memori (dalam bytes) yang dialokasikan untuk array di atas?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="160">
                        </div>
                        <!-- Latihan 3 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 3: Akses Indeks</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int data[5] = {10, 20, 30, 40, 50};
cout << data[3];</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="40">
                        </div>
                        <!-- Latihan 4 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 4: Operasi Indeks</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int angka[] = {0, 2, 1, 4, 3, 5, 7, 6, 9, 8};
cout << angka[1] + angka[4];</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="5">
                        </div>
                        <!-- Latihan 5 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 5: Indeks Bersarang</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int angka[] = {0, 2, 1, 4, 3, 5, 7, 6, 9, 8};
cout << angka[angka[7]];</code></pre>
                            <p class="mt-4">Apakah output program?</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="9">
                        </div>
                        <!-- Latihan 6 -->
                        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                            <p class="font-semibold mb-3">Latihan 6: Array dan Loop</p>
                            <pre class="code-editor !min-h-0 !bg-slate-800"><code>int data[4] = {5, 1, 3, 2};
int total = 0;
for (int i = 0; i < 4; i++) {
    if (data[i] > 2) {
        total = total + data[i];
    }
}
cout << total;</code></pre>
                            <p class="mt-4">Apakah output program? (5 + 3)</p>
                            <input type="text" class="fill-in-input !w-40 mt-2" data-answer="8">
                        </div>
                        <button onclick="checkFillIn('quiz-topic-9', 5)" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Cek Isian Singkat</button>
                    </div>
                `,
                quizData: { q1: 'B' }
            }
        };

        // === FUNGSI UTAMA ===

        // Fungsi Tampilan (Modal, Sidebar, Poin)
        function showModal(title, message) {
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-message').innerText = message;
            document.getElementById('message-modal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('message-modal').classList.add('hidden');
        }

        function toggleSidebar(show) {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            if (show) {
                sidebar.classList.add('open');
                overlay.classList.add('open');
            } else {
                sidebar.classList.remove('open');
                overlay.classList.remove('open');
            }
        }
        
        function updatePointsDisplay() {
            const pointsEl = document.getElementById('total-points');
            if (pointsEl) {
                pointsEl.textContent = totalPoints;
            }
        }

        function addPoints(points, topicId) {
            if (!completedTopics.has(topicId)) {
                totalPoints += points;
                completedTopics.add(topicId);
                updatePointsDisplay();
                buildSidebar(); // Update sidebar untuk tampilkan lencana
                
                // Simpan progres
                localStorage.setItem('userTotalPoints', totalPoints);
                localStorage.setItem('userCompletedTopics', JSON.stringify(Array.from(completedTopics)));
                
                showModal(`Topik Selesai!`, `Anda mendapat ${points} poin. Total poin Anda sekarang ${totalPoints}. Lencana baru ditambahkan!`);
            } else {
                showModal('Sudah Selesai', 'Anda sudah menyelesaikan kuis untuk topik ini, tapi boleh dicoba lagi!');
            }
        }

        function showSubMenu(topicId, subMenu) {
            document.querySelectorAll(`#content-area .submenu-content`).forEach(el => el.style.display = 'none');
            document.querySelectorAll(`#content-area .submenu-tab`).forEach(el => el.classList.remove('active'));
            
            const contentEl = document.getElementById(`${subMenu}-content`);
            if (contentEl) contentEl.style.display = 'block';
            
            const tabEl = document.getElementById(`${subMenu}-tab`);
            if (tabEl) tabEl.classList.add('active');
        }

        function showTopic(topicId) {
            const contentArea = document.getElementById('content-area');
            const data = topicData[topicId] || { 
                title: 'Segera Hadir', 
                materi: '<div class="bg-yellow-100 text-yellow-800 p-4 rounded-lg shadow-md"><i class="fas fa-hammer mr-2"></i> Konten untuk materi ini sedang dalam pengembangan.</div>',
                kuis: '<div class="bg-yellow-100 text-yellow-800 p-4 rounded-lg shadow-md"><i class="fas fa-hammer mr-2"></i> Kuis untuk materi ini sedang dalam pengembangan.</div>',
                quizData: {}
            };
            
            contentArea.innerHTML = `
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-3xl font-bold">${data.title}</h2>
                    <button onclick="toggleSidebar(true)" class="md:hidden bg-white p-2 rounded-md shadow">
                        <i class="fas fa-bars text-blue-600"></i>
                    </button>
                </div>
                <div class="border-b border-slate-300 mb-6">
                    <nav class="flex flex-wrap">
                        <div id="materi-tab" class="submenu-tab" onclick="showSubMenu('${topicId}', 'materi')">
                            <i class="fas fa-book mr-2"></i> Materi
                        </div>
                        <div id="kuis-tab" class="submenu-tab" onclick="showSubMenu('${topicId}', 'kuis')">
                            <i class="fas fa-pencil-alt mr-2"></i> Kuis / Latihan
                        </div>
                    </nav>
                </div>
                <div id="materi-content" class="submenu-content">
                    ${data.materi}
                </div>
                <div id="kuis-content" class="submenu-content">
                    ${data.kuis}
                </div>
            `;
            
            showSubMenu(topicId, 'materi');

            document.querySelectorAll('.sidebar-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-topic-id') === topicId) {
                    link.classList.add('active');
                }
            });
            
            // Tambahkan event listener untuk Kuis Drag-and-Drop jika ada
            if (topicId === 'topic-2') {
                setupDragDrop();
            }
        }

        // Fungsi Pengecekan Kuis
        function checkQuiz(quizId, points) {
            const quizContainer = document.getElementById(`quiz-${quizId}`) || document.getElementById(`quiz-pg-${quizId}`);
            if (!quizContainer) return;
            
            const topicId = quizContainer.closest('.submenu-content').id.replace('-content', '');
            const quizData = topicData[topicId].quizData;
            
            let allCorrect = true;
            let answeredCount = 0;
            const totalQuestions = Object.keys(quizData).length;

            if (totalQuestions === 0) return;

            for (const qId in quizData) {
                const correctAnswer = quizData[qId];
                const selectedAnswer = document.querySelector(`input[name="${qId}"]:checked`);
                const feedbackEl = document.getElementById(`feedback-${qId}`);
                
                if (selectedAnswer) {
                    answeredCount++;
                    if (selectedAnswer.value === correctAnswer) {
                        feedbackEl.textContent = 'Jawaban Anda Benar!';
                        feedbackEl.className = 'quiz-feedback correct';
                    } else {
                        feedbackEl.textContent = `Jawaban kurang tepat. Jawaban yang benar adalah ${correctAnswer}.`;
                        feedbackEl.className = 'quiz-feedback incorrect';
                        allCorrect = false;
                    }
                } else {
                    allCorrect = false;
                }
            }

            if (answeredCount < totalQuestions) {
                showModal('Info', 'Anda harus menjawab semua pertanyaan terlebih dahulu.');
            } else if (allCorrect) {
                 addPoints(points, topicId);
            } else {
                showModal('Coba Lagi', 'Masih ada jawaban yang kurang tepat. Silakan periksa kembali.');
            }
        }

        function checkFillIn(quizId, points) {
            const quizContainer = document.getElementById(`quiz-${quizId}`);
            if (!quizContainer) return;

            const topicId = quizContainer.closest('.submenu-content').id.replace('-content', '');
            const inputs = quizContainer.querySelectorAll('.fill-in-input');
            let allCorrect = true;

            inputs.forEach(input => {
                const expectedAnswer = input.dataset.answer.replace(/&quot;/g, '"');
                // Normalisasi jawaban: hapus spasi berlebih, trim, tapi biarkan spasi di jawaban (misal '5 4 3 ')
                const userAnswer = input.value.replace(/\s+/g, ' ').trim();
                const expectedAnswerTrimmed = expectedAnswer.replace(/\s+/g, ' ').trim();
                
                // Perbandingan case-insensitive untuk string, case-sensitive untuk kode
                let isAnswerCorrect = false;
                if (expectedAnswer.includes(';') || expectedAnswer.includes('>>') || expectedAnswer.includes('<<')) {
                    // Ini kode, bandingkan persis (setelah normalisasi spasi)
                    isAnswerCorrect = (userAnswer.replace(/\\n/g, '\n') === expectedAnswer.replace(/\\n/g, '\n'));
                } else if (expectedAnswer.includes(' ') && !expectedAnswer.endsWith(' ')) {
                    // Ini jawaban tracing biasa (misal 'angka'), bandingkan setelah trim
                    isAnswerCorrect = (userAnswer.toLowerCase() === expectedAnswerTrimmed.toLowerCase());
                } else {
                    // Ini jawaban yg mungkin butuh spasi di akhir (misal '5 4 3 ')
                    isAnswerCorrect = (userAnswer.toLowerCase() === expectedAnswer.toLowerCase().replace(/\s+/g, ' ').trimEnd());
                }

                if (isAnswerCorrect || (userAnswer.toLowerCase() === expectedAnswerTrimmed.toLowerCase())) {
                    input.classList.remove('incorrect');
                    input.classList.add('correct');
                } else {
                    input.classList.remove('correct');
                    input.classList.add('incorrect');
                    allCorrect = false;
                }
            });

            if (allCorrect) {
                addPoints(points, topicId);
            } else {
                showModal('Coba Lagi', 'Beberapa jawaban masih belum tepat. Perhatikan kembali sintaks dan logikanya.');
            }
        }
        
        // Fungsi Kuis Drag and Drop
        function setupDragDrop() {
            const items = document.querySelectorAll('#drag-source .drag-item');
            items.forEach(item => {
                item.addEventListener('dragstart', handleDragStart);
            });

            const dropTarget = document.getElementById('drop-target');
            dropTarget.addEventListener('dragover', handleDragOver);
            dropTarget.addEventListener('drop', handleDrop);
            
            // Memungkinkan drag kembali ke source
            const dragSource = document.getElementById('drag-source');
            dragSource.addEventListener('dragover', handleDragOver);
            dragSource.addEventListener('drop', handleDrop);
        }

        function handleDragStart(e) {
            draggedItem = e.target;
        }

        function handleDragOver(e) {
            e.preventDefault(); // Izinkan drop
        }

        function handleDrop(e) {
            e.preventDefault();
            if (e.target.classList.contains('drop-target') || e.target.classList.contains('drag-container')) {
                e.target.appendChild(draggedItem);
                draggedItem = null;
            } else if (e.target.closest('.drop-target') || e.target.closest('.drag-container')) {
                e.target.closest('.drop-target, .drag-container').appendChild(draggedItem);
                draggedItem = null;
            }
            // Reset status pengecekan
            document.querySelectorAll('#drop-target .drag-item').forEach(item => {
                item.classList.remove('correct', 'incorrect');
            });
        }
        
        function checkDragDrop(topicId) {
            const dropTarget = document.getElementById('drop-target');
            const items = dropTarget.querySelectorAll('.drag-item');
            const correctOrder = topicData[topicId].quizData.correctOrder;
            
            let allCorrect = true;
            if (items.length !== correctOrder.length) {
                allCorrect = false;
            }
            
            items.forEach((item, index) => {
                const itemId = item.dataset.id;
                if (index < correctOrder.length && itemId === correctOrder[index]) {
                    item.classList.remove('incorrect');
                    item.classList.add('correct');
                } else {
                    item.classList.remove('correct');
                    item.classList.add('incorrect');
                    allCorrect = false;
                }
            });
            
            if (allCorrect) {
                addPoints(10, topicId);
            } else {
                showModal('Coba Lagi', 'Susunannya belum tepat. Coba perhatikan kembali urutan eksekusi program.');
            }
        }
        
        // --- FUNGSI KONSOL INTERAKTIF ---
        
        // Fungsi pembantu untuk sleep
        const sleep = ms => new Promise(resolve => setTimeout(resolve, ms));

        // Fungsi untuk log ke konsol simulasi
        function logToConsole(outputId, message, type = 'output') {
            const outputEl = document.getElementById(outputId);
            const span = document.createElement('span');
            span.className = type;
            span.textContent = message;
            outputEl.appendChild(span);
            outputEl.scrollTop = outputEl.scrollHeight; // Auto-scroll
        }
        
        // Fungsi untuk meminta input dari user
        async function promptForInput(outputId, promptMessage = "") {
            return new Promise(resolve => {
                const outputEl = document.getElementById(outputId);
                // Tampilkan prompt (misal: "Masukkan angka: ")
                if (promptMessage) {
                    logToConsole(outputId, promptMessage, 'output');
                }
                
                // Buat input field
                const inputContainer = document.createElement('div');
                inputContainer.className = 'flex items-center';
                
                const promptSpan = document.createElement('span');
                promptSpan.className = 'prompt';
                promptSpan.textContent = '> ';
                inputContainer.appendChild(promptSpan);
                
                const inputEl = document.createElement('input');
                inputEl.type = 'text';
                inputEl.className = 'flex-1 bg-transparent text-white outline-none';
                inputContainer.appendChild(inputEl);
                outputEl.appendChild(inputContainer);
                
                inputEl.focus();
                
                // Handle input submission (on Enter)
                inputEl.onkeydown = (e) => {
                    if (e.key === 'Enter') {
                        const value = inputEl.value;
                        // Hapus input field
                        outputEl.removeChild(inputContainer);
                        // Tampilkan kembali input user sebagai output
                        logToConsole(outputId, '> ' + value + '\n', 'prompt');
                        resolve(value); // Kembalikan nilai yang diinput
                    }
                };
            });
        }
        
        // Fungsi "evaluasi" kode C++ (Simulasi Sederhana)
        async function runFullCode(exerciseId) {
            const code = document.getElementById(`code-exercise-${exerciseId}`).value;
            const outputId = `output-${exerciseId}`;
            const outputEl = document.getElementById(outputId);
            outputEl.innerHTML = ''; // Bersihkan konsol
            
            // Pengecekan sintaks dasar
            if (!code.includes('#include <iostream>') || !code.includes('int main()') || !code.includes('cout') || !code.includes('return 0')) {
                logToConsole(outputId, 'Error: Struktur dasar C++ (iostream, int main, cout, return 0) tidak ditemukan.\n', 'system');
                return;
            }
            
            // Ekstraksi kode di dalam main()
            const mainContent = code.substring(code.indexOf('int main()') + 10, code.lastIndexOf('return 0'));
            
            // Tes Case
            let testCases = [];
            let points = 0;
            const topicId = outputEl.closest('.submenu-content').id.replace('-content', '');
            
            switch (exerciseId) {
                case 'ganjil-genap':
                    testCases = [{input: 7, output: 'Ganjil'}, {input: 10, output: 'Genap'}];
                    points = 20;
                    break;
                case 'pos-neg-nol':
                    testCases = [{input: 5, output: 'Positif'}, {input: -3, output: 'Negatif'}, {input: 0, output: 'Nol'}];
                    points = 20;
                    break;
                case 'ph':
                    testCases = [{input: 4, output: 'Asam'}, {input: 9, output: 'Basa'}, {input: 7, output: 'Netral'}];
                    points = 20;
                    break;
                case 'deret-1-x':
                    testCases = [{input: 5, output: '1 2 3 4 5 '}, {input: 3, output: '1 2 3 '}];
                    points = 20;
                    break;
                case 'deret-x-1':
                    testCases = [{input: 5, output: '5 4 3 2 1 '}, {input: 3, output: '3 2 1 '}];
                    points = 20;
                    break;
                case 'sum':
                    testCases = [{input: 4, output: '10'}, {input: 5, output: '15'}];
                    points = 20;
                    break;
            }

            let allTestsPassed = true;
            logToConsole(outputId, 'Memulai Pengecekan...\n\n', 'system');
            
            for (let i = 0; i < testCases.length; i++) {
                const test = testCases[i];
                logToConsole(outputId, `--- Tes Kasus ${i+1} --- (Input: ${test.input})\n`, 'system');
                
                let simulatedOutput = '';
                
                // Simulasi `cin` (hanya untuk satu variabel)
                const cinRegex = /cin\s*>>\s*(\w+);/;
                let inputVarName = null;
                const cinMatch = mainContent.match(cinRegex);
                if (cinMatch) {
                    inputVarName = cinMatch[1];
                }

                // Buat "sandbox" untuk variabel
                let variables = {};
                if (inputVarName) {
                    // Minta input dari user (disimulasikan, kita pakai input tes)
                    logToConsole(outputId, `Program meminta input...\n`, 'output');
                    await sleep(500);
                    logToConsole(outputId, `> ${test.input}\n`, 'prompt');
                    variables[inputVarName] = test.input;
                }
                
                // Simulasi `cout`
                const coutRegex = /cout\s*<<(.*);/g;
                let match;
                
                try {
                    // Ini adalah simulasi SANGAT sederhana, hanya cocok untuk soal-soal ini.
                    // Ini BUKAN interpreter C++.
                    if (exerciseId === 'ganjil-genap') {
                        if (test.input % 2 === 0) simulatedOutput = 'Genap';
                        else simulatedOutput = 'Ganjil';
                    } else if (exerciseId === 'pos-neg-nol') {
                        if (test.input > 0) simulatedOutput = 'Positif';
                        else if (test.input < 0) simulatedOutput = 'Negatif';
                        else simulatedOutput = 'Nol';
                    } else if (exerciseId === 'ph') {
                        if (test.input < 7) simulatedOutput = 'Asam';
                        else if (test.input > 7) simulatedOutput = 'Basa';
                        else simulatedOutput = 'Netral';
                    } else if (exerciseId === 'deret-1-x') {
                        for (let j = 1; j <= test.input; j++) simulatedOutput += `${j} `;
                    } else if (exerciseId === 'deret-x-1') {
                        for (let j = test.input; j >= 1; j--) simulatedOutput += `${j} `;
                    } else if (exerciseId === 'sum') {
                        let total = 0;
                        for (let j = 1; j <= test.input; j++) total += j;
                        simulatedOutput = total.toString();
                    }
                    
                    // Filter output berdasarkan logika `if` di kode user
                    if (!mainContent.includes(simulatedOutput)) {
                        if (exerciseId === 'ganjil-genap' && mainContent.includes("Genap") && test.input % 2 !== 0) {
                             simulatedOutput = "Genap"; // User salah logika
                        } else if (exerciseId === 'ganjil-genap' && mainContent.includes("Ganjil") && test.input % 2 === 0) {
                             simulatedOutput = "Ganjil"; // User salah logika
                        }
                        // Tambahkan pengecekan salah logika lain jika perlu
                    }

                } catch (e) {
                    logToConsole(outputId, `Error saat simulasi: ${e.message}\n`, 'system');
                    allTestsPassed = false;
                    continue;
                }
                
                logToConsole(outputId, `Output Program: ${simulatedOutput}\n`, 'output');
                logToConsole(outputId, `Output Diharapkan: ${test.output}\n`, 'system');
                
                if (simulatedOutput.trim() == test.output.trim()) {
                    logToConsole(outputId, `Status: LULUS\n\n`, 'prompt');
                } else {
                    logToConsole(outputId, `Status: GAGAL\n\n`, 'system');
                    allTestsPassed = false;
                }
            }
            
            if (allTestsPassed) {
                logToConsole(outputId, `Selamat! Semua tes kasus berhasil.\n`, 'prompt');
                addPoints(points, topicId);
            } else {
                logToConsole(outputId, `Beberapa tes kasus gagal. Perbaiki kode Anda.\n`, 'system');
            }
        }
        
        
        // --- FUNGSI VISUALISASI ---
        
        // Fungsi reset (menghapus highlight)
        function resetViz(containerId) {
            document.querySelectorAll(`#${containerId} .viz-node`).forEach(el => el.classList.remove('active'));
        }
        
        // Visualisasi IF
        async function visualizeIf() {
            const btn = document.getElementById('viz-if-btn');
            btn.disabled = true;
            resetViz('viz-if-container');
            
            const input = parseInt(document.getElementById('viz-if-input').value) || 0;
            const nodes = {
                1: document.getElementById('viz-if-1'),
                2: document.getElementById('viz-if-2'),
                3: document.getElementById('viz-if-3'),
                4: document.getElementById('viz-if-4'),
                5: document.getElementById('viz-if-5'),
                6: document.getElementById('viz-if-6'),
            };

            await sleep(300); nodes[1].classList.add('active'); // Mulai
            await sleep(500); nodes[1].classList.remove('active');
            
            await sleep(300); nodes[2].classList.add('active'); // Baca x
            await sleep(800); nodes[2].classList.remove('active');
            
            await sleep(300); nodes[3].classList.add('active'); // Kondisi x % 2 == 0 ?
            await sleep(1000); nodes[3].classList.remove('active');
            
            if (input % 2 === 0) {
                // Jalur True (Genap)
                await sleep(300); nodes[4].classList.add('active'); // cetak "Genap"
                await sleep(1000); nodes[4].classList.remove('active');
            } else {
                // Jalur False (Ganjil)
                await sleep(300); nodes[5].classList.add('active'); // cetak "Ganjil"
                await sleep(1000); nodes[5].classList.remove('active');
            }
            
            await sleep(300); nodes[6].classList.add('active'); // Selesai
            await sleep(1000); nodes[6].classList.remove('active');
            
            btn.disabled = false;
        }

        // Visualisasi FOR
        async function visualizeFor() {
            const btn = document.getElementById('viz-for-btn');
            btn.disabled = true;
            resetViz('viz-for-container');
            
            const nodes = {
                1: document.getElementById('viz-for-1'), // Mulai
                2: document.getElementById('viz-for-2'), // i = 0
                3: document.getElementById('viz-for-3'), // i < 3 ?
                4: document.getElementById('viz-for-4'), // cetak "Halo"
                5: document.getElementById('viz-for-5'), // i++
                6: document.getElementById('viz-for-6'), // Selesai
            };
            
            await sleep(300); nodes[1].classList.add('active'); // Mulai
            await sleep(500); nodes[1].classList.remove('active');
            
            await sleep(300); nodes[2].classList.add('active'); // i = 0 (Inisialisasi)
            await sleep(800); nodes[2].classList.remove('active');

            for (let i = 0; i < 3; i++) {
                await sleep(300); nodes[3].classList.add('active'); // Kondisi i < 3 ? (True)
                await sleep(800); nodes[3].classList.remove('active');
                
                await sleep(300); nodes[4].classList.add('active'); // cetak "Halo"
                await sleep(800); nodes[4].classList.remove('active');
                
                await sleep(300); nodes[5].classList.add('active'); // i++
                await sleep(800); nodes[5].classList.remove('active');
            }
            
            await sleep(300); nodes[3].classList.add('active'); // Kondisi i < 3 ? (False)
            await sleep(800); nodes[3].classList.remove('active');
            
            await sleep(300); nodes[6].classList.add('active'); // Selesai
            await sleep(1000); nodes[6].classList.remove('active');
            
            btn.disabled = false;
        }
        
        // Visualisasi ARRAY
        function visualizeArrayCreate() {
            const sizeInput = document.getElementById('viz-array-size');
            let size = parseInt(sizeInput.value);
            if (size < 3) size = 3;
            if (size > 10) size = 10;
            sizeInput.value = size;
            
            userGeneratedArray = new Array(size).fill(null);
            
            const container = document.getElementById('viz-array-container');
            container.innerHTML = ''; // Bersihkan
            
            for (let i = 0; i < size; i++) {
                container.innerHTML += `
                    <div class="array-cell" id="viz-array-cell-${i}">
                        <span class="index-label">[${i}]</span>
                    </div>
                `;
            }
            
            document.getElementById('viz-array-step1').style.display = 'none';
            document.getElementById('viz-array-step2').style.display = 'block';
            showArrayOp('set'); // Tampilkan form 'set' secara default
        }

        function showArrayOp(op) {
            document.getElementById('viz-array-op-set').style.display = (op === 'set') ? 'block' : 'none';
            document.getElementById('viz-array-op-get').style.display = (op === 'get') ? 'block' : 'none';
            document.getElementById('viz-array-get-output').textContent = '';
        }
        
        async function animateCell(index, type = 'set') {
            const cell = document.getElementById(`viz-array-cell-${index}`);
            if (cell) {
                cell.classList.add(type === 'set' ? 'flash-set' : 'flash-get');
                await sleep(600);
                cell.classList.remove(type === 'set' ? 'flash-set' : 'flash-get');
            }
        }
        
        // Fungsi evaluasi ekspresi array yang aman
        function evaluateArrayExpr(expr) {
            // Hapus 'array' dan ganti '[...]' dengan 'userGeneratedArray[...]'
            let safeExpr = expr.replace(/array/g, 'userGeneratedArray');
            
            // Validasi: hanya izinkan userGeneratedArray, angka, operator, dan [ ]
            if (/[^userGeneratedArray\d\s\[\]\+\-\*\/]/.test(safeExpr)) {
                throw new Error("Ekspresi tidak valid. Hanya gunakan 'array[indeks]' dan operator.");
            }
            
            // Evaluasi aman menggunakan 'new Function'
            try {
                // Kita bungkus dengan 'return' agar bisa mendapatkan nilainya
                const func = new Function('userGeneratedArray', `return ${safeExpr}`);
                const result = func(userGeneratedArray);
                return result;
            } catch (e) {
                throw new Error("Gagal mengevaluasi ekspresi. Cek sintaks Anda.");
            }
        }

        async function visualizeArrayOp(op) {
            const size = userGeneratedArray.length;
            
            if (op === 'set') {
                const indexInput = document.getElementById('viz-array-set-index');
                const valueInput = document.getElementById('viz-array-set-value');
                const index = parseInt(indexInput.value);
                const value = parseInt(valueInput.value);
                
                if (isNaN(index) || index < 0 || index >= size) {
                    showModal('Error', `Indeks tidak valid. Masukkan angka antara 0 dan ${size - 1}.`);
                    return;
                }
                if (isNaN(value)) {
                    showModal('Error', 'Nilai tidak valid. Masukkan angka.');
                    return;
                }
                
                userGeneratedArray[index] = value;
                document.getElementById(`viz-array-cell-${index}`).textContent = value;
                await animateCell(index, 'set');
                
                // Reset input dan fokus kembali
                indexInput.value = '';
                valueInput.value = '';
                indexInput.focus();

            } else if (op === 'get') {
                const expr = document.getElementById('viz-array-get-expr').value;
                const outputEl = document.getElementById('viz-array-get-output');
                
                if (!expr) {
                    showModal('Error', 'Masukkan ekspresi, contoh: array[0] atau array[1] + array[2]');
                    return;
                }

                try {
                    const result = evaluateArrayExpr(expr);
                    
                    if (result === undefined || result === null || isNaN(result)) {
                         outputEl.textContent = `Hasil: null/undefined (Mungkin array di indeks itu kosong)`;
                    } else {
                         outputEl.textContent = `Hasil: ${result}`;
                    }
                    
                    // Animasikan sel yang diakses (hanya untuk akses sederhana)
                    const simpleAccess = expr.match(/array\[(\d+)\]/g);
                    if (simpleAccess) {
                        for (const match of simpleAccess) {
                            const index = parseInt(match.match(/\[(\d+)\]/)[1]);
                            if (index >= 0 && index < size) {
                                await animateCell(index, 'get');
                            }
                        }
                    }
                    // Animasikan nested access
                    const nestedAccess = expr.match(/array\[array\[(\d+)\]\]/);
                    if (nestedAccess) {
                        const innerIndex = parseInt(nestedAccess[1]);
                        if(innerIndex >= 0 && innerIndex < size && userGeneratedArray[innerIndex] !== null) {
                            const outerIndex = userGeneratedArray[innerIndex];
                            if(outerIndex >= 0 && outerIndex < size) {
                                await animateCell(innerIndex, 'get');
                                await sleep(300);
                                await animateCell(outerIndex, 'get');
                            }
                        }
                    }

                } catch (e) {
                    showModal('Error', e.message);
                }
            }
        }
        

        // === INISIALISASI ===
        // Fungsi untuk membangun sidebar
        function buildSidebar() {
            const sidebarList = document.querySelector('#sidebar ul');
            if (!sidebarList) return;
            sidebarList.innerHTML = ''; // Hapus menu lama jika ada (untuk mobile toggle)
            
            topics.forEach(topic => {
                const isCompleted = completedTopics.has(topic.id);
                const li = document.createElement('li');
                li.innerHTML = `
                    <a href="#" 
                       class="sidebar-link flex items-center justify-between px-4 py-3 text-slate-700 hover:bg-slate-100 rounded-lg transition"
                       data-topic-id="${topic.id}"
                       onclick="event.preventDefault(); showTopic('${topic.id}'); toggleSidebar(false);">
                        <div class="flex items-center">
                            <i class="fas ${topic.icon} w-6 text-center text-slate-500"></i>
                            <span class="ml-3">${topic.title}</span>
                        </div>
                        ${isCompleted ? '<i class="fas fa-check-circle text-green-500" title="Topik Selesai"></i>' : ''}
                    </a>
                `;
                sidebarList.appendChild(li);
            });
        }

        // Fungsi inisialisasi utama
        function initializeApp() {
            // Muat poin dari local storage
            totalPoints = parseInt(localStorage.getItem('userTotalPoints') || '0', 10);
            const completedData = localStorage.getItem('userCompletedTopics');
            if (completedData) {
                completedTopics = new Set(JSON.parse(completedData));
            }
            updatePointsDisplay();
            
            // Bangun sidebar
            buildSidebar();
            
            // Muat topik pertama
            showTopic('topic-1');
        }

        // Panggil fungsi inisialisasi untuk memulai aplikasi
        initializeApp(); 

    </script>
</body>
</html>

